{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib.ts","webpack:///./src/Item.ts","webpack:///./src/TypedEvent.ts","webpack:///./src/items/EventsHistory.ts","webpack:///./src/items/DonutGraph.ts","webpack:///./src/items/BarsGraph.ts","webpack:///./src/items/ModuleGraph.ts","webpack:///./src/items/StaticGraph.ts","webpack:///./src/items/Icon.ts","webpack:///./src/items/ColorCloud.ts","webpack:///./src/items/Group.ts","webpack:///./src/items/Clock/index.ts","webpack:///./src/items/Box.ts","webpack:///./src/items/Line.ts","webpack:///./src/items/Label.ts","webpack:///./src/items/SimpleValue.ts","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/curve/radial.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/symbol/diamond.js","webpack:///./node_modules/d3-shape/src/symbol/circle.js","webpack:///./node_modules/d3-shape/src/symbol/star.js","webpack:///./node_modules/d3-shape/src/noop.js","webpack:///./node_modules/d3-shape/src/symbol/triangle.js","webpack:///./node_modules/d3-shape/src/symbol/wye.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/d3-shape/src/curve/basisClosed.js","webpack:///./node_modules/d3-shape/src/curve/basisOpen.js","webpack:///./node_modules/d3-shape/src/curve/bundle.js","webpack:///./node_modules/d3-shape/src/curve/cardinal.js","webpack:///./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack:///./node_modules/d3-shape/src/curve/catmullRom.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack:///./node_modules/d3-shape/src/curve/linearClosed.js","webpack:///./node_modules/d3-shape/src/curve/monotone.js","webpack:///./node_modules/d3-shape/src/curve/natural.js","webpack:///./node_modules/d3-shape/src/curve/step.js","webpack:///./node_modules/d3-shape/src/order/descending.js","webpack:///./src/items/Percentile.ts","webpack:///./src/items/Service.ts","webpack:///./src/VisualConsole.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","parseIntOr","defaultValue","length","isNaN","parseInt","parseFloatOr","parseFloat","stringIsEmpty","notEmptyStringOr","parseBoolean","padLeft","pad","diffLength","substr","Math","abs","substring","repeatTimes","floor","restLength","newPad","positionPropsDecoder","data","x","y","sizePropsDecoder","width","height","TypeError","modulePropsDecoder","id","moduleName","__assign","metaconsoleId","agentId","agentName","agentProps","agentPropsDecoder","linkedVCPropsDecoder","linkedLayoutId","linkedLayoutAgentId","linkedLayoutStatusProps","linkedLayoutStatusType","weight","linkedLayoutStatusTypeWeight","warningThreshold","linkedLayoutStatusTypeWarningThreshold","criticalThreshold","linkedLayoutStatusTypeCriticalThreshold","linkedLayoutBaseProps","prefixedCssRules","ruleName","ruleValue","rule","decodeBase64","input","decodeURIComponent","escape","window","atob","parseLabelPosition","labelPosition","itemBasePropsDecoder","type","label","_lib__WEBPACK_IMPORTED_MODULE_0__","isLinkEnabled","link","isOnTop","parentId","aclGroupId","VisualConsoleItem","props","this","clickEventManager","_TypedEvent__WEBPACK_IMPORTED_MODULE_1__","removeEventManager","disposables","itemProps","elementRef","createContainerDomElement","labelElementRef","createLabelDomElement","childElementRef","createDomElement","append","resizeElement","changeLabelPosition","box","_this","document","createElement","href","className","style","zIndex","left","top","onclick","e","emit","nativeEvent","element","table","row","emptyRow1","emptyRow2","cell","innerHTML","updateDomElement","newProps","prevProps","shouldBeUpdated","render","positionChanged","moveElement","sizeChanged","container","parentNode","replaceChild","remove","forEach","disposable","dispose","ignored","prevPosition","newPosition","position","flexDirection","move","prevSize","newSize","resize","onClick","listener","on","push","onRemove","__webpack_exports__","TypedEvent","listeners","listenersOncer","off","once","callbackIndex","indexOf","splice","event","pipe","te","eventsHistoryPropsDecoder","html","encodedHtml","_Item__WEBPACK_IMPORTED_MODULE_1__","maxTime","EventsHistory","_super","__extends","scripts","getElementsByTagName","src","setTimeout","eval","trim","aux","donutGraphPropsDecoder","DonutGraph","barsGraphPropsDecoder","BarsGraph","moduleGraphPropsDecoder","ModuleGraph","legendP","margin","overviewGraphs","getElementsByClassName","parseShowLastValueTooltip","showLastValueTooltip","staticGraphPropsDecoder","imageSrc","Item","statusImageSrc","lib","lastValue","StaticGraph","imgSrc","background","backgroundSize","backgroundPosition","setAttribute","iconPropsDecoder","Icon_assign","Icon","Icon_extends","colorCloudPropsDecoder","color","ColorCloud_assign","ColorCloud_svgNS","ColorCloud","ColorCloud_extends","createSvgElement","gradientId","svg","createElementNS","defs","radialGradient","stop0","stop100","circle","groupPropsDecoder","groupId","showStatistics","extractHtml","Group_assign","Group","Group_extends","parseClockType","clockType","parseClockFormat","clockFormat","clockPropsDecoder","clockTimezone","Clock_assign","clockTimezoneOffset","showClockTimezone","items_Clock","Clock","intervalRef","startTick","createClock","TICK_INTERVAL","Clock_extends","stopTick","clearInterval","handler","interval","setInterval","_a","getElementSize","newWidth","newHeight","createAnalogicClock","createDigitalClock","Error","svgNS","colors","div","clockFace","clockFaceBackground","city","getHumanTimezone","timezoneComplication","textContent","marksGroup","mainMarkGroup","mark1a","mark1b","mark","hourHand","hourHandA","hourHandB","minuteHand","minuteHandA","minuteHandB","minuteHandPin","secondHand","secondHandBar","secondHandPin","pin","date","getDate","seconds","getSeconds","minutes","getMinutes","secAngle","minuteAngle","hourAngle","getHours","join","tzFontSizeMultiplier","timeFontSize","dateFontSize","baseTimeFontSize","tzFontSize","min","dateElem","getDigitalDate","fontSize","timeElem","getDigitalTime","tzElem","Date","targetTZOffset","localTZOffset","getTimezoneOffset","utimestamp","getTime","initialDate","getMonth","getFullYear","timezone","_b","split","replace","diameter","boxPropsDecoder","Box_assign","borderWidth","borderColor","fillColor","Box","Box_extends","boxSizing","backgroundColor","borderStyle","maxBorderWidth","linePropsDecoder","Line_assign","startPosition","startX","startY","endPosition","endX","endY","lineWidth","Line","extractBoxSizeAndPosition","Line_extends","toString","line","labelPropsDecoder","Label_assign","Label","Label_extends","parseValueType","valueType","parseProcessValue","processValue","simpleValuePropsDecoder","SimpleValue_assign","period","SimpleValue","SimpleValue_extends","img","text","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","constructor","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","sqrt","l01","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","src_path","constant","atan2","max","math_epsilon","math_pi","halfPi","math_tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x10","y10","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","src_arc","cornerRadius","padRadius","context","buffer","r0","apply","arguments","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","lc","centroid","a","Linear","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","point","linear","curveRadial","Radial","curve","_curve","radial","Array","slice","kr","noop","that","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","j","custom","bundle","cardinal_point","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","catmullRom_point","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","b","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign","slope3","h0","h1","s0","s1","slope2","monotone_point","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","_t0","px","py","i0","i1","Step","_t","extractPercentileType","extractValueType","percentilePropsDecoder","Percentile_assign","percentileType","minValue","maxValue","labelColor","unit","Percentile_svgNS","Percentile","Percentile_extends","progress","getProgress","backgroundRect","progressRect","backgroundCircle","progressCircle","arcProps","servicePropsDecoder","encodedTitle","serviceId","Service_assign","Service","Service_extends","itemInstanceFrom","items_StaticGraph","items_SimpleValue","items_Percentile","items_Label","items_Icon","items_Service","items_Group","items_Box","items_Line","items_ColorCloud","VisualConsole","items","elementsById","elementIds","relations","handleElementClick","handleElementRemove","filter","clearRelations","containerRef","_props","backgroundURL","isFavorite","relationLineWidth","VisualConsole_assign","visualConsolePropsDecoder","sort","item","itemInstance","error","console","log","message","buildRelations","map","updateElements","itemIds","decodeProps","backgroundImage","elements","parent_1","child","addRelationLine","itemId","ids","Number","childId","getRelationLine","identifier","parent","clientWidth","clientHeight","src_VisualConsole"],"mappings":"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","file":"vc.main.acb027c9.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","import {\n  UnknownObject,\n  Position,\n  Size,\n  WithAgentProps,\n  WithModuleProps,\n  LinkedVisualConsoleProps,\n  LinkedVisualConsolePropsStatus\n} from \"./types\";\n\n/**\n * Return a number or a default value from a raw value.\n * @param value Raw value from which we will try to extract a valid number.\n * @param defaultValue Default value to use if we cannot extract a valid number.\n * @return A valid number or the default value.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function parseIntOr<T>(value: any, defaultValue: T): number | T {\n  if (typeof value === \"number\") return value;\n  if (typeof value === \"string\" && value.length > 0 && !isNaN(parseInt(value)))\n    return parseInt(value);\n  else return defaultValue;\n}\n\n/**\n * Return a number or a default value from a raw value.\n * @param value Raw value from which we will try to extract a valid number.\n * @param defaultValue Default value to use if we cannot extract a valid number.\n * @return A valid number or the default value.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function parseFloatOr<T>(value: any, defaultValue: T): number | T {\n  if (typeof value === \"number\") return value;\n  if (\n    typeof value === \"string\" &&\n    value.length > 0 &&\n    !isNaN(parseFloat(value))\n  )\n    return parseFloat(value);\n  else return defaultValue;\n}\n\n/**\n * Check if a string exists and it's not empty.\n * @param value Value to check.\n * @return The check result.\n */\nexport function stringIsEmpty(value?: string | null): boolean {\n  return value == null || value.length === 0;\n}\n\n/**\n * Return a not empty string or a default value from a raw value.\n * @param value Raw value from which we will try to extract a non empty string.\n * @param defaultValue Default value to use if we cannot extract a non empty string.\n * @return A non empty string or the default value.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function notEmptyStringOr<T>(value: any, defaultValue: T): string | T {\n  return typeof value === \"string\" && value.length > 0 ? value : defaultValue;\n}\n\n/**\n * Return a boolean from a raw value.\n * @param value Raw value from which we will try to extract the boolean.\n * @return A valid boolean value. false by default.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function parseBoolean(value: any): boolean {\n  if (typeof value === \"boolean\") return value;\n  else if (typeof value === \"number\") return value > 0;\n  else if (typeof value === \"string\") return value === \"1\" || value === \"true\";\n  else return false;\n}\n\n/**\n * Pad the current string with another string (multiple times, if needed)\n * until the resulting string reaches the given length.\n * The padding is applied from the start (left) of the current string.\n * @param value Text that needs to be padded.\n * @param length Length of the returned text.\n * @param pad Text to add.\n * @return Padded text.\n */\nexport function padLeft(\n  value: string | number,\n  length: number,\n  pad: string | number = \" \"\n): string {\n  if (typeof value === \"number\") value = `${value}`;\n  if (typeof pad === \"number\") pad = `${pad}`;\n\n  const diffLength = length - value.length;\n  if (diffLength === 0) return value;\n  if (diffLength < 0) return value.substr(Math.abs(diffLength));\n\n  if (diffLength === pad.length) return `${pad}${value}`;\n  if (diffLength < pad.length) return `${pad.substring(0, diffLength)}${value}`;\n\n  const repeatTimes = Math.floor(diffLength / pad.length);\n  const restLength = diffLength - pad.length * repeatTimes;\n\n  let newPad = \"\";\n  for (let i = 0; i < repeatTimes; i++) newPad += pad;\n\n  if (restLength === 0) return `${newPad}${value}`;\n  return `${newPad}${pad.substring(0, restLength)}${value}`;\n}\n\n/* Decoders */\n\n/**\n * Build a valid typed object from a raw object.\n * @param data Raw object.\n * @return An object representing the position.\n */\nexport function positionPropsDecoder(data: UnknownObject): Position {\n  return {\n    x: parseIntOr(data.x, 0),\n    y: parseIntOr(data.y, 0)\n  };\n}\n\n/**\n * Build a valid typed object from a raw object.\n * @param data Raw object.\n * @return An object representing the size.\n * @throws Will throw a TypeError if the width and height are not valid numbers.\n */\nexport function sizePropsDecoder(data: UnknownObject): Size | never {\n  if (\n    data.width == null ||\n    isNaN(parseInt(data.width)) ||\n    data.height == null ||\n    isNaN(parseInt(data.height))\n  ) {\n    throw new TypeError(\"invalid size.\");\n  }\n\n  return {\n    width: parseInt(data.width),\n    height: parseInt(data.height)\n  };\n}\n\n/**\n * Build a valid typed object from a raw object.\n * @param data Raw object.\n * @return An object representing the agent properties.\n */\nexport function agentPropsDecoder(data: UnknownObject): WithAgentProps {\n  // Object destructuring: http://es6-features.org/#ObjectMatchingShorthandNotation\n  const { metaconsoleId, agentId: id, agentName: name } = data;\n\n  const agentProps: WithAgentProps = {\n    agentId: parseIntOr(id, null),\n    agentName: typeof name === \"string\" && name.length > 0 ? name : null\n  };\n\n  return metaconsoleId != null\n    ? {\n        metaconsoleId,\n        ...agentProps // Object spread: http://es6-features.org/#SpreadOperator\n      }\n    : agentProps;\n}\n\n/**\n * Build a valid typed object from a raw object.\n * @param data Raw object.\n * @return An object representing the module and agent properties.\n */\nexport function modulePropsDecoder(data: UnknownObject): WithModuleProps {\n  // Object destructuring: http://es6-features.org/#ObjectMatchingShorthandNotation\n  const { moduleId: id, moduleName: name } = data;\n\n  return {\n    moduleId: parseIntOr(id, null),\n    moduleName: typeof name === \"string\" && name.length > 0 ? name : null,\n    ...agentPropsDecoder(data) // Object spread: http://es6-features.org/#SpreadOperator\n  };\n}\n\n/**\n * Build a valid typed object from a raw object.\n * @param data Raw object.\n * @return An object representing the linked visual console properties.\n * @throws Will throw a TypeError if the status calculation properties are invalid.\n */\nexport function linkedVCPropsDecoder(\n  data: UnknownObject\n): LinkedVisualConsoleProps | never {\n  // Object destructuring: http://es6-features.org/#ObjectMatchingShorthandNotation\n  const {\n    metaconsoleId,\n    linkedLayoutId: id,\n    linkedLayoutAgentId: agentId\n  } = data;\n\n  let linkedLayoutStatusProps: LinkedVisualConsolePropsStatus = {\n    linkedLayoutStatusType: \"default\"\n  };\n  switch (data.linkedLayoutStatusType) {\n    case \"weight\": {\n      const weight = parseIntOr(data.linkedLayoutStatusTypeWeight, null);\n      if (weight == null)\n        throw new TypeError(\"invalid status calculation properties.\");\n\n      if (data.linkedLayoutStatusTypeWeight)\n        linkedLayoutStatusProps = {\n          linkedLayoutStatusType: \"weight\",\n          linkedLayoutStatusTypeWeight: weight\n        };\n      break;\n    }\n    case \"service\": {\n      const warningThreshold = parseIntOr(\n        data.linkedLayoutStatusTypeWarningThreshold,\n        null\n      );\n      const criticalThreshold = parseIntOr(\n        data.linkedLayoutStatusTypeCriticalThreshold,\n        null\n      );\n      if (warningThreshold == null || criticalThreshold == null) {\n        throw new TypeError(\"invalid status calculation properties.\");\n      }\n\n      linkedLayoutStatusProps = {\n        linkedLayoutStatusType: \"service\",\n        linkedLayoutStatusTypeWarningThreshold: warningThreshold,\n        linkedLayoutStatusTypeCriticalThreshold: criticalThreshold\n      };\n      break;\n    }\n  }\n\n  const linkedLayoutBaseProps = {\n    linkedLayoutId: parseIntOr(id, null),\n    linkedLayoutAgentId: parseIntOr(agentId, null),\n    ...linkedLayoutStatusProps // Object spread: http://es6-features.org/#SpreadOperator\n  };\n\n  return metaconsoleId != null\n    ? {\n        metaconsoleId,\n        ...linkedLayoutBaseProps // Object spread: http://es6-features.org/#SpreadOperator\n      }\n    : linkedLayoutBaseProps;\n}\n\n/**\n * To get a CSS rule with the most used prefixes.\n * @param ruleName Name of the CSS rule.\n * @param ruleValue Value of the CSS rule.\n * @return An array of rules with the prefixes applied.\n */\nexport function prefixedCssRules(\n  ruleName: string,\n  ruleValue: string\n): string[] {\n  const rule = `${ruleName}: ${ruleValue};`;\n  return [\n    `-webkit-${rule}`,\n    `-moz-${rule}`,\n    `-ms-${rule}`,\n    `-o-${rule}`,\n    `${rule}`\n  ];\n}\n\n/**\n * Decode a base64 string.\n * @param input Data encoded using base64.\n * @return Decoded data.\n */\nexport function decodeBase64(input: string): string {\n  return decodeURIComponent(escape(window.atob(input)));\n}\n","import { Position, Size, UnknownObject } from \"./types\";\nimport {\n  sizePropsDecoder,\n  positionPropsDecoder,\n  parseIntOr,\n  parseBoolean,\n  notEmptyStringOr\n} from \"./lib\";\nimport TypedEvent, { Listener, Disposable } from \"./TypedEvent\";\n\n// Enum: https://www.typescriptlang.org/docs/handbook/enums.html.\nexport const enum ItemType {\n  STATIC_GRAPH = 0,\n  MODULE_GRAPH = 1,\n  SIMPLE_VALUE = 2,\n  PERCENTILE_BAR = 3,\n  LABEL = 4,\n  ICON = 5,\n  SIMPLE_VALUE_MAX = 6,\n  SIMPLE_VALUE_MIN = 7,\n  SIMPLE_VALUE_AVG = 8,\n  PERCENTILE_BUBBLE = 9,\n  SERVICE = 10,\n  GROUP_ITEM = 11,\n  BOX_ITEM = 12,\n  LINE_ITEM = 13,\n  AUTO_SLA_GRAPH = 14,\n  CIRCULAR_PROGRESS_BAR = 15,\n  CIRCULAR_INTERIOR_PROGRESS_BAR = 16,\n  DONUT_GRAPH = 17,\n  BARS_GRAPH = 18,\n  CLOCK = 19,\n  COLOR_CLOUD = 20\n}\n\n// Base item properties. This interface should be extended by the item implementations.\nexport interface ItemProps extends Position, Size {\n  readonly id: number;\n  readonly type: ItemType;\n  label: string | null;\n  labelPosition: \"up\" | \"right\" | \"down\" | \"left\";\n  isLinkEnabled: boolean;\n  link: string | null;\n  isOnTop: boolean;\n  parentId: number | null;\n  aclGroupId: number | null;\n}\n\n// FIXME: Fix type compatibility.\nexport interface ItemClickEvent<Props extends ItemProps> {\n  // data: Props;\n  data: UnknownObject;\n  nativeEvent: Event;\n}\n\n// FIXME: Fix type compatibility.\nexport interface ItemRemoveEvent<Props extends ItemProps> {\n  // data: Props;\n  data: UnknownObject;\n}\n\n/**\n * Extract a valid enum value from a raw label positi9on value.\n * @param labelPosition Raw value.\n */\nconst parseLabelPosition = (\n  labelPosition: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): ItemProps[\"labelPosition\"] => {\n  switch (labelPosition) {\n    case \"up\":\n    case \"right\":\n    case \"down\":\n    case \"left\":\n      return labelPosition;\n    default:\n      return \"down\";\n  }\n};\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the item props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function itemBasePropsDecoder(data: UnknownObject): ItemProps | never {\n  if (data.id == null || isNaN(parseInt(data.id))) {\n    throw new TypeError(\"invalid id.\");\n  }\n  if (data.type == null || isNaN(parseInt(data.type))) {\n    throw new TypeError(\"invalid type.\");\n  }\n\n  return {\n    id: parseInt(data.id),\n    type: parseInt(data.type),\n    label: notEmptyStringOr(data.label, null),\n    labelPosition: parseLabelPosition(data.labelPosition),\n    isLinkEnabled: parseBoolean(data.isLinkEnabled),\n    link: notEmptyStringOr(data.link, null),\n    isOnTop: parseBoolean(data.isOnTop),\n    parentId: parseIntOr(data.parentId, null),\n    aclGroupId: parseIntOr(data.aclGroupId, null),\n    ...sizePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...positionPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\n/**\n * Base class of the visual console items. Should be extended to use its capabilities.\n */\nabstract class VisualConsoleItem<Props extends ItemProps> {\n  // Properties of the item.\n  private itemProps: Props;\n  // Reference to the DOM element which will contain the item.\n  public elementRef: HTMLElement;\n  public readonly labelElementRef: HTMLElement;\n  // Reference to the DOM element which will contain the view of the item which extends this class.\n  protected readonly childElementRef: HTMLElement;\n  // Event manager for click events.\n  private readonly clickEventManager = new TypedEvent<ItemClickEvent<Props>>();\n  // Event manager for remove events.\n  private readonly removeEventManager = new TypedEvent<\n    ItemRemoveEvent<Props>\n  >();\n  // List of references to clean the event listeners.\n  private readonly disposables: Disposable[] = [];\n\n  /**\n   * To create a new element which will be inside the item box.\n   * @return Item.\n   */\n  protected abstract createDomElement(): HTMLElement;\n\n  public constructor(props: Props) {\n    this.itemProps = props;\n\n    /*\n     * Get a HTMLElement which represents the container box\n     * of the Visual Console item. This element will manage\n     * all the common things like click events, show a border\n     * when hovered, etc.\n     */\n    this.elementRef = this.createContainerDomElement();\n    this.labelElementRef = this.createLabelDomElement();\n\n    /*\n     * Get a HTMLElement which represents the custom view\n     * of the Visual Console item. This element will be\n     * different depending on the item implementation.\n     */\n    this.childElementRef = this.createDomElement();\n\n    // Insert the elements into the container.\n    this.elementRef.append(this.childElementRef, this.labelElementRef);\n\n    // Resize element.\n    this.resizeElement(props.width, props.height);\n    // Set label position.\n    this.changeLabelPosition(props.labelPosition);\n  }\n\n  /**\n   * To create a new box for the visual console item.\n   * @return Item box.\n   */\n  private createContainerDomElement(): HTMLElement {\n    let box;\n    if (this.props.isLinkEnabled) {\n      box = document.createElement(\"a\");\n      box as HTMLAnchorElement;\n      if (this.props.link) box.href = this.props.link;\n    } else {\n      box = document.createElement(\"div\");\n      box as HTMLDivElement;\n    }\n\n    box.className = \"visual-console-item\";\n    box.style.zIndex = this.props.isOnTop ? \"2\" : \"1\";\n    box.style.left = `${this.props.x}px`;\n    box.style.top = `${this.props.y}px`;\n    box.onclick = e =>\n      this.clickEventManager.emit({ data: this.props, nativeEvent: e });\n\n    return box;\n  }\n\n  /**\n   * To create a new label for the visual console item.\n   * @return Item label.\n   */\n  protected createLabelDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"visual-console-item-label\";\n    // Add the label if it exists.\n    if (this.props.label && this.props.label.length) {\n      // Ugly table we need to use to replicate the legacy style.\n      const table = document.createElement(\"table\");\n      const row = document.createElement(\"tr\");\n      const emptyRow1 = document.createElement(\"tr\");\n      const emptyRow2 = document.createElement(\"tr\");\n      const cell = document.createElement(\"td\");\n\n      cell.innerHTML = this.props.label;\n      row.append(cell);\n      table.append(emptyRow1, row, emptyRow2);\n\n      switch (this.props.labelPosition) {\n        case \"up\":\n        case \"down\":\n          if (this.props.width > 0) {\n            table.style.width = `${this.props.width}px`;\n          }\n          break;\n        case \"left\":\n        case \"right\":\n          if (this.props.height > 0) {\n            table.style.height = `${this.props.height}px`;\n          }\n          break;\n      }\n\n      // element.innerHTML = this.props.label;\n      element.append(table);\n    }\n\n    return element;\n  }\n\n  /**\n   * To update the content element.\n   * @return Item.\n   */\n  protected updateDomElement(element: HTMLElement): void {\n    element.innerHTML = this.createDomElement().innerHTML;\n  }\n\n  /**\n   * Public accessor of the `props` property.\n   * @return Properties.\n   */\n  public get props(): Props {\n    return { ...this.itemProps }; // Return a copy.\n  }\n\n  /**\n   * Public setter of the `props` property.\n   * If the new props are different enough than the\n   * stored props, a render would be fired.\n   * @param newProps\n   */\n  public set props(newProps: Props) {\n    const prevProps = this.props;\n    // Update the internal props.\n    this.itemProps = newProps;\n\n    // From this point, things which rely on this.props can access to the changes.\n\n    // Check if we should re-render.\n    if (this.shouldBeUpdated(prevProps, newProps)) this.render(prevProps);\n  }\n\n  /**\n   * To compare the previous and the new props and returns a boolean value\n   * in case the difference is meaningfull enough to perform DOM changes.\n   *\n   * Here, the only comparision is done by reference.\n   *\n   * Override this function to perform a different comparision depending on the item needs.\n   *\n   * @param prevProps\n   * @param newProps\n   * @return Whether the difference is meaningful enough to perform DOM changes or not.\n   */\n  protected shouldBeUpdated(prevProps: Props, newProps: Props): boolean {\n    return prevProps !== newProps;\n  }\n\n  /**\n   * To recreate or update the HTMLElement which represents the item into the DOM.\n   * @param prevProps If exists it will be used to only perform DOM updates instead of a full replace.\n   */\n  public render(prevProps: Props | null = null): void {\n    this.updateDomElement(this.childElementRef);\n\n    // Move box.\n    if (!prevProps || this.positionChanged(prevProps, this.props)) {\n      this.moveElement(this.props.x, this.props.y);\n    }\n    // Resize box.\n    if (!prevProps || this.sizeChanged(prevProps, this.props)) {\n      this.resizeElement(this.props.width, this.props.height);\n    }\n    // Change label.\n    if (!prevProps || prevProps.label !== this.props.label) {\n      this.labelElementRef.innerHTML = this.createLabelDomElement().innerHTML;\n    }\n    // Change link.\n    if (\n      prevProps &&\n      (prevProps.isLinkEnabled !== this.props.isLinkEnabled ||\n        (this.props.isLinkEnabled && prevProps.link !== this.props.link))\n    ) {\n      const container = this.createContainerDomElement();\n      container.innerHTML = this.elementRef.innerHTML;\n\n      if (this.elementRef.parentNode !== null) {\n        this.elementRef.parentNode.replaceChild(container, this.elementRef);\n      }\n\n      // Changed the reference to the main element. It's ugly, but needed.\n      this.elementRef = container;\n    }\n    // Change label position.\n    if (!prevProps || prevProps.labelPosition !== this.props.labelPosition) {\n      this.changeLabelPosition(this.props.labelPosition);\n    }\n  }\n\n  /**\n   * To remove the event listeners and the elements from the DOM.\n   */\n  public remove(): void {\n    // Call the remove event.\n    this.removeEventManager.emit({ data: this.props });\n    // Event listeners.\n    this.disposables.forEach(disposable => {\n      try {\n        disposable.dispose();\n      } catch (ignored) {} // eslint-disable-line no-empty\n    });\n    // VisualConsoleItem DOM element.\n    this.elementRef.remove();\n  }\n\n  /**\n   * Compare the previous and the new position and return\n   * a boolean value in case the position changed.\n   * @param prevPosition\n   * @param newPosition\n   * @return Whether the position changed or not.\n   */\n  protected positionChanged(\n    prevPosition: Position,\n    newPosition: Position\n  ): boolean {\n    return prevPosition.x !== newPosition.x || prevPosition.y !== newPosition.y;\n  }\n\n  /**\n   * Move the label around the item content.\n   * @param position Label position.\n   */\n  protected changeLabelPosition(position: Props[\"labelPosition\"]): void {\n    switch (position) {\n      case \"up\":\n        this.elementRef.style.flexDirection = \"column-reverse\";\n        break;\n      case \"left\":\n        this.elementRef.style.flexDirection = \"row-reverse\";\n        break;\n      case \"right\":\n        this.elementRef.style.flexDirection = \"row\";\n        break;\n      case \"down\":\n      default:\n        this.elementRef.style.flexDirection = \"column\";\n        break;\n    }\n  }\n\n  /**\n   * Move the DOM container.\n   * @param x Horizontal axis position.\n   * @param y Vertical axis position.\n   */\n  protected moveElement(x: number, y: number): void {\n    this.elementRef.style.left = `${x}px`;\n    this.elementRef.style.top = `${y}px`;\n  }\n\n  /**\n   * Update the position into the properties and move the DOM container.\n   * @param x Horizontal axis position.\n   * @param y Vertical axis position.\n   */\n  public move(x: number, y: number): void {\n    this.moveElement(x, y);\n    this.itemProps = {\n      ...this.props, // Object spread: http://es6-features.org/#SpreadOperator\n      x,\n      y\n    };\n  }\n\n  /**\n   * Compare the previous and the new size and return\n   * a boolean value in case the size changed.\n   * @param prevSize\n   * @param newSize\n   * @return Whether the size changed or not.\n   */\n  protected sizeChanged(prevSize: Size, newSize: Size): boolean {\n    return (\n      prevSize.width !== newSize.width || prevSize.height !== newSize.height\n    );\n  }\n\n  /**\n   * Resize the DOM content container.\n   * @param width\n   * @param height\n   */\n  protected resizeElement(width: number, height: number): void {\n    // The most valuable size is the content size.\n    this.childElementRef.style.width = width > 0 ? `${width}px` : null;\n    this.childElementRef.style.height = height > 0 ? `${height}px` : null;\n  }\n\n  /**\n   * Update the size into the properties and resize the DOM container.\n   * @param width\n   * @param height\n   */\n  public resize(width: number, height: number): void {\n    this.resizeElement(width, height);\n    this.itemProps = {\n      ...this.props, // Object spread: http://es6-features.org/#SpreadOperator\n      width,\n      height\n    };\n  }\n\n  /**\n   * To add an event handler to the click of the linked visual console elements.\n   * @param listener Function which is going to be executed when a linked console is clicked.\n   */\n  public onClick(listener: Listener<ItemClickEvent<Props>>): Disposable {\n    /*\n     * The '.on' function returns a function which will clean the event\n     * listener when executed. We store all the 'dispose' functions to\n     * call them when the item should be cleared.\n     */\n    const disposable = this.clickEventManager.on(listener);\n    this.disposables.push(disposable);\n\n    return disposable;\n  }\n\n  /**\n   * To add an event handler to the removal of the item.\n   * @param listener Function which is going to be executed when a item is removed.\n   */\n  public onRemove(listener: Listener<ItemRemoveEvent<Props>>): Disposable {\n    /*\n     * The '.on' function returns a function which will clean the event\n     * listener when executed. We store all the 'dispose' functions to\n     * call them when the item should be cleared.\n     */\n    const disposable = this.removeEventManager.on(listener);\n    this.disposables.push(disposable);\n\n    return disposable;\n  }\n}\n\nexport default VisualConsoleItem;\n","export interface Listener<T> {\n  (event: T): void;\n}\n\nexport interface Disposable {\n  dispose: () => void;\n}\n\n/** passes through events as they happen. You will not get events from before you start listening */\nexport default class TypedEvent<T> {\n  private listeners: Listener<T>[] = [];\n  private listenersOncer: Listener<T>[] = [];\n\n  public on = (listener: Listener<T>): Disposable => {\n    this.listeners.push(listener);\n    return {\n      dispose: () => this.off(listener)\n    };\n  };\n\n  public once = (listener: Listener<T>): void => {\n    this.listenersOncer.push(listener);\n  };\n\n  public off = (listener: Listener<T>): void => {\n    const callbackIndex = this.listeners.indexOf(listener);\n    if (callbackIndex > -1) this.listeners.splice(callbackIndex, 1);\n  };\n\n  public emit = (event: T): void => {\n    /** Update any general listeners */\n    this.listeners.forEach(listener => listener(event));\n\n    /** Clear the `once` queue */\n    this.listenersOncer.forEach(listener => listener(event));\n    this.listenersOncer = [];\n  };\n\n  public pipe = (te: TypedEvent<T>): Disposable => this.on(e => te.emit(e));\n}\n","import { UnknownObject, WithModuleProps } from \"../types\";\nimport {\n  modulePropsDecoder,\n  parseIntOr,\n  decodeBase64,\n  stringIsEmpty\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type EventsHistoryProps = {\n  type: ItemType.AUTO_SLA_GRAPH;\n  maxTime: number | null;\n  html: string;\n} & ItemProps &\n  WithModuleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the events history props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function eventsHistoryPropsDecoder(\n  data: UnknownObject\n): EventsHistoryProps | never {\n  if (stringIsEmpty(data.html) && stringIsEmpty(data.encodedHtml)) {\n    throw new TypeError(\"missing html content.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.AUTO_SLA_GRAPH,\n    maxTime: parseIntOr(data.maxTime, null),\n    html: !stringIsEmpty(data.html)\n      ? data.html\n      : decodeBase64(data.encodedHtml),\n    ...modulePropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class EventsHistory extends Item<EventsHistoryProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"events-history\";\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const scripts = element.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        setTimeout(() => {\n          try {\n            eval(scripts[i].innerHTML.trim());\n          } catch (ignored) {} // eslint-disable-line no-empty\n        }, 0);\n      }\n    }\n\n    return element;\n  }\n\n  protected updateDomElement(element: HTMLElement): void {\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const aux = document.createElement(\"div\");\n    aux.innerHTML = this.props.html;\n    const scripts = aux.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        eval(scripts[i].innerHTML.trim());\n      }\n    }\n  }\n}\n","import {\n  LinkedVisualConsoleProps,\n  UnknownObject,\n  WithModuleProps\n} from \"../types\";\nimport {\n  linkedVCPropsDecoder,\n  modulePropsDecoder,\n  decodeBase64,\n  stringIsEmpty\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type DonutGraphProps = {\n  type: ItemType.DONUT_GRAPH;\n  html: string;\n} & ItemProps &\n  WithModuleProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the donut graph props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function donutGraphPropsDecoder(\n  data: UnknownObject\n): DonutGraphProps | never {\n  if (stringIsEmpty(data.html) && stringIsEmpty(data.encodedHtml)) {\n    throw new TypeError(\"missing html content.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.DONUT_GRAPH,\n    html: !stringIsEmpty(data.html)\n      ? data.html\n      : decodeBase64(data.encodedHtml),\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class DonutGraph extends Item<DonutGraphProps> {\n  /**\n   * @override Item.resizeElement\n   * Resize the DOM content container.\n   * @param width\n   * @param height\n   */\n  protected resizeElement(width: number, height: number): void {\n    if (width <= 0) width = 200;\n    if (height <= 0) height = 200;\n    super.resizeElement(width, height);\n  }\n\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"donut-graph\";\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const scripts = element.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      setTimeout(() => {\n        if (scripts[i].src.length === 0) eval(scripts[i].innerHTML.trim());\n      }, 0);\n    }\n\n    return element;\n  }\n\n  protected updateDomElement(element: HTMLElement): void {\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const aux = document.createElement(\"div\");\n    aux.innerHTML = this.props.html;\n    const scripts = aux.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        eval(scripts[i].innerHTML.trim());\n      }\n    }\n  }\n}\n","import { UnknownObject, WithModuleProps } from \"../types\";\nimport { modulePropsDecoder, decodeBase64, stringIsEmpty } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type BarsGraphProps = {\n  type: ItemType.BARS_GRAPH;\n  html: string;\n} & ItemProps &\n  WithModuleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the bars graph props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function barsGraphPropsDecoder(\n  data: UnknownObject\n): BarsGraphProps | never {\n  if (stringIsEmpty(data.html) && stringIsEmpty(data.encodedHtml)) {\n    throw new TypeError(\"missing html content.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.BARS_GRAPH,\n    html: !stringIsEmpty(data.html)\n      ? data.html\n      : decodeBase64(data.encodedHtml),\n    ...modulePropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class BarsGraph extends Item<BarsGraphProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"bars-graph\";\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const scripts = element.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      setTimeout(() => {\n        if (scripts[i].src.length === 0) eval(scripts[i].innerHTML.trim());\n      }, 0);\n    }\n\n    return element;\n  }\n\n  protected updateDomElement(element: HTMLElement): void {\n    element.innerHTML = this.props.html;\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const aux = document.createElement(\"div\");\n    aux.innerHTML = this.props.html;\n    const scripts = aux.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        eval(scripts[i].innerHTML.trim());\n      }\n    }\n  }\n}\n","import {\n  LinkedVisualConsoleProps,\n  UnknownObject,\n  WithModuleProps\n} from \"../types\";\nimport {\n  linkedVCPropsDecoder,\n  modulePropsDecoder,\n  decodeBase64,\n  stringIsEmpty\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type ModuleGraphProps = {\n  type: ItemType.MODULE_GRAPH;\n  html: string;\n} & ItemProps &\n  WithModuleProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the module graph props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function moduleGraphPropsDecoder(\n  data: UnknownObject\n): ModuleGraphProps | never {\n  if (stringIsEmpty(data.html) && stringIsEmpty(data.encodedHtml)) {\n    throw new TypeError(\"missing html content.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.MODULE_GRAPH,\n    html: !stringIsEmpty(data.html)\n      ? data.html\n      : decodeBase64(data.encodedHtml),\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class ModuleGraph extends Item<ModuleGraphProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"module-graph\";\n    element.innerHTML = this.props.html;\n\n    // Remove the overview graph.\n    const legendP = element.getElementsByTagName(\"p\");\n    for (let i = 0; i < legendP.length; i++) {\n      legendP[i].style.margin = \"0px\";\n    }\n\n    // Remove the overview graph.\n    const overviewGraphs = element.getElementsByClassName(\"overview_graph\");\n    for (let i = 0; i < overviewGraphs.length; i++) {\n      overviewGraphs[i].remove();\n    }\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const scripts = element.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        setTimeout(() => {\n          try {\n            eval(scripts[i].innerHTML.trim());\n          } catch (ignored) {} // eslint-disable-line no-empty\n        }, 0);\n      }\n    }\n\n    return element;\n  }\n\n  protected updateDomElement(element: HTMLElement): void {\n    element.innerHTML = this.props.html;\n\n    // Remove the overview graph.\n    const legendP = element.getElementsByTagName(\"p\");\n    for (let i = 0; i < legendP.length; i++) {\n      legendP[i].style.margin = \"0px\";\n    }\n\n    // Remove the overview graph.\n    const overviewGraphs = element.getElementsByClassName(\"overview_graph\");\n    for (let i = 0; i < overviewGraphs.length; i++) {\n      overviewGraphs[i].remove();\n    }\n\n    // Hack to execute the JS after the HTML is added to the DOM.\n    const aux = document.createElement(\"div\");\n    aux.innerHTML = this.props.html;\n    const scripts = aux.getElementsByTagName(\"script\");\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src.length === 0) {\n        eval(scripts[i].innerHTML.trim());\n      }\n    }\n  }\n}\n","import {\n  WithModuleProps,\n  LinkedVisualConsoleProps,\n  UnknownObject\n} from \"../types\";\n\nimport {\n  modulePropsDecoder,\n  linkedVCPropsDecoder,\n  notEmptyStringOr\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type StaticGraphProps = {\n  type: ItemType.STATIC_GRAPH;\n  imageSrc: string; // URL?\n  showLastValueTooltip: \"default\" | \"enabled\" | \"disabled\";\n  statusImageSrc: string | null; // URL?\n  lastValue: string | null;\n} & ItemProps &\n  (WithModuleProps | LinkedVisualConsoleProps);\n\n/**\n * Extract a valid enum value from a raw unknown value.\n * @param showLastValueTooltip Raw value.\n */\nconst parseShowLastValueTooltip = (\n  showLastValueTooltip: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): StaticGraphProps[\"showLastValueTooltip\"] => {\n  switch (showLastValueTooltip) {\n    case \"default\":\n    case \"enabled\":\n    case \"disabled\":\n      return showLastValueTooltip;\n    default:\n      return \"default\";\n  }\n};\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the static graph props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function staticGraphPropsDecoder(\n  data: UnknownObject\n): StaticGraphProps | never {\n  if (typeof data.imageSrc !== \"string\" || data.imageSrc.length === 0) {\n    throw new TypeError(\"invalid image src.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.STATIC_GRAPH,\n    imageSrc: data.imageSrc,\n    showLastValueTooltip: parseShowLastValueTooltip(data.showLastValueTooltip),\n    statusImageSrc: notEmptyStringOr(data.statusImageSrc, null),\n    lastValue: notEmptyStringOr(data.lastValue, null),\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class StaticGraph extends Item<StaticGraphProps> {\n  protected createDomElement(): HTMLElement {\n    const imgSrc = this.props.statusImageSrc || this.props.imageSrc;\n    const element = document.createElement(\"div\");\n    element.className = \"static-graph\";\n    element.style.background = `url(${imgSrc}) no-repeat`;\n    element.style.backgroundSize = \"contain\";\n    element.style.backgroundPosition = \"center\";\n\n    // Show last value in a tooltip.\n    if (\n      this.props.lastValue !== null &&\n      this.props.showLastValueTooltip !== \"disabled\"\n    ) {\n      element.className = \"static-graph image forced_title\";\n      element.setAttribute(\"data-use_title_for_force_title\", \"1\");\n      element.setAttribute(\"data-title\", this.props.lastValue);\n    }\n\n    return element;\n  }\n}\n","import { LinkedVisualConsoleProps, UnknownObject } from \"../types\";\nimport { linkedVCPropsDecoder } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type IconProps = {\n  type: ItemType.ICON;\n  imageSrc: string; // URL?\n} & ItemProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the icon props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function iconPropsDecoder(data: UnknownObject): IconProps | never {\n  if (typeof data.imageSrc !== \"string\" || data.imageSrc.length === 0) {\n    throw new TypeError(\"invalid image src.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.ICON,\n    imageSrc: data.imageSrc,\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class Icon extends Item<IconProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"icon\";\n    element.style.background = `url(${this.props.imageSrc}) no-repeat`;\n    element.style.backgroundSize = \"contain\";\n    element.style.backgroundPosition = \"center\";\n\n    return element;\n  }\n}\n","import {\n  WithModuleProps,\n  LinkedVisualConsoleProps,\n  UnknownObject\n} from \"../types\";\nimport { modulePropsDecoder, linkedVCPropsDecoder } from \"../lib\";\nimport Item, { itemBasePropsDecoder, ItemType, ItemProps } from \"../Item\";\n\nexport type ColorCloudProps = {\n  type: ItemType.COLOR_CLOUD;\n  color: string;\n  // TODO: Add the rest of the color cloud values?\n} & ItemProps &\n  WithModuleProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the static graph props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function colorCloudPropsDecoder(\n  data: UnknownObject\n): ColorCloudProps | never {\n  // TODO: Validate the color.\n  if (typeof data.color !== \"string\" || data.color.length === 0) {\n    throw new TypeError(\"invalid color.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.COLOR_CLOUD,\n    color: data.color,\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\n\nexport default class ColorCloud extends Item<ColorCloudProps> {\n  protected createDomElement(): HTMLElement {\n    const container: HTMLDivElement = document.createElement(\"div\");\n    container.className = \"color-cloud\";\n\n    // Add the SVG.\n    container.append(this.createSvgElement());\n\n    return container;\n  }\n\n  public createSvgElement(): SVGSVGElement {\n    const gradientId = `grad_${this.props.id}`;\n    // SVG container.\n    const svg = document.createElementNS(svgNS, \"svg\");\n    // Auto resize SVG using the view box magic: https://css-tricks.com/scale-svg/\n    svg.setAttribute(\"viewBox\", \"0 0 100 100\");\n\n    // Defs.\n    const defs = document.createElementNS(svgNS, \"defs\");\n    // Radial gradient.\n    const radialGradient = document.createElementNS(svgNS, \"radialGradient\");\n    radialGradient.setAttribute(\"id\", gradientId);\n    radialGradient.setAttribute(\"cx\", \"50%\");\n    radialGradient.setAttribute(\"cy\", \"50%\");\n    radialGradient.setAttribute(\"r\", \"50%\");\n    radialGradient.setAttribute(\"fx\", \"50%\");\n    radialGradient.setAttribute(\"fy\", \"50%\");\n    // Stops.\n    const stop0 = document.createElementNS(svgNS, \"stop\");\n    stop0.setAttribute(\"offset\", \"0%\");\n    stop0.setAttribute(\n      \"style\",\n      `stop-color:${this.props.color};stop-opacity:0.9`\n    );\n    const stop100 = document.createElementNS(svgNS, \"stop\");\n    stop100.setAttribute(\"offset\", \"100%\");\n    stop100.setAttribute(\n      \"style\",\n      `stop-color:${this.props.color};stop-opacity:0`\n    );\n    // Circle.\n    const circle = document.createElementNS(svgNS, \"circle\");\n    circle.setAttribute(\"fill\", `url(#${gradientId})`);\n    circle.setAttribute(\"cx\", \"50%\");\n    circle.setAttribute(\"cy\", \"50%\");\n    circle.setAttribute(\"r\", \"50%\");\n\n    // Append elements.\n    radialGradient.append(stop0, stop100);\n    defs.append(radialGradient);\n    svg.append(defs, circle);\n\n    return svg;\n  }\n}\n","import { LinkedVisualConsoleProps, UnknownObject } from \"../types\";\nimport {\n  linkedVCPropsDecoder,\n  parseIntOr,\n  notEmptyStringOr,\n  stringIsEmpty,\n  decodeBase64,\n  parseBoolean\n} from \"../lib\";\nimport Item, { ItemProps, itemBasePropsDecoder, ItemType } from \"../Item\";\n\nexport type GroupProps = {\n  type: ItemType.GROUP_ITEM;\n  groupId: number;\n  imageSrc: string | null; // URL?\n  statusImageSrc: string | null;\n  showStatistics: boolean;\n  html?: string | null;\n} & ItemProps &\n  LinkedVisualConsoleProps;\n\nfunction extractHtml(data: UnknownObject): string | null {\n  if (!stringIsEmpty(data.html)) return data.html;\n  if (!stringIsEmpty(data.encodedHtml)) return decodeBase64(data.encodedHtml);\n  return null;\n}\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the group props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function groupPropsDecoder(data: UnknownObject): GroupProps | never {\n  if (\n    (typeof data.imageSrc !== \"string\" || data.imageSrc.length === 0) &&\n    data.encodedHtml === null\n  ) {\n    throw new TypeError(\"invalid image src.\");\n  }\n  if (parseIntOr(data.groupId, null) === null) {\n    throw new TypeError(\"invalid group Id.\");\n  }\n\n  const showStatistics = parseBoolean(data.showStatistics);\n  const html = showStatistics ? extractHtml(data) : null;\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.GROUP_ITEM,\n    groupId: parseInt(data.groupId),\n    imageSrc: notEmptyStringOr(data.imageSrc, null),\n    statusImageSrc: notEmptyStringOr(data.statusImageSrc, null),\n    showStatistics,\n    html,\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class Group extends Item<GroupProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"group\";\n\n    if (!this.props.showStatistics && this.props.statusImageSrc !== null) {\n      // Icon with status.\n      element.style.background = `url(${this.props.statusImageSrc}) no-repeat`;\n      element.style.backgroundSize = \"contain\";\n      element.style.backgroundPosition = \"center\";\n    } else if (this.props.showStatistics && this.props.html != null) {\n      // Stats table.\n      element.innerHTML = this.props.html;\n    }\n\n    return element;\n  }\n}\n","import \"./styles.css\";\n\nimport { LinkedVisualConsoleProps, UnknownObject, Size } from \"../../types\";\nimport {\n  linkedVCPropsDecoder,\n  parseIntOr,\n  padLeft,\n  parseBoolean,\n  prefixedCssRules,\n  notEmptyStringOr\n} from \"../../lib\";\nimport Item, { ItemProps, itemBasePropsDecoder, ItemType } from \"../../Item\";\n\nexport type ClockProps = {\n  type: ItemType.CLOCK;\n  clockType: \"analogic\" | \"digital\";\n  clockFormat: \"datetime\" | \"time\";\n  clockTimezone: string;\n  clockTimezoneOffset: number; // Offset of the timezone to UTC in seconds.\n  showClockTimezone: boolean;\n  color?: string | null;\n} & ItemProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Extract a valid enum value from a raw unknown value.\n * @param clockType Raw value.\n */\nconst parseClockType = (\n  clockType: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): ClockProps[\"clockType\"] => {\n  switch (clockType) {\n    case \"analogic\":\n    case \"digital\":\n      return clockType;\n    default:\n      return \"analogic\";\n  }\n};\n\n/**\n * Extract a valid enum value from a raw unknown value.\n * @param clockFormat Raw value.\n */\nconst parseClockFormat = (\n  clockFormat: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): ClockProps[\"clockFormat\"] => {\n  switch (clockFormat) {\n    case \"datetime\":\n    case \"date\":\n    case \"time\":\n      return clockFormat;\n    default:\n      return \"datetime\";\n  }\n};\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the clock props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function clockPropsDecoder(data: UnknownObject): ClockProps | never {\n  if (\n    typeof data.clockTimezone !== \"string\" ||\n    data.clockTimezone.length === 0\n  ) {\n    throw new TypeError(\"invalid timezone.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.CLOCK,\n    clockType: parseClockType(data.clockType),\n    clockFormat: parseClockFormat(data.clockFormat),\n    clockTimezone: data.clockTimezone,\n    clockTimezoneOffset: parseIntOr(data.clockTimezoneOffset, 0),\n    showClockTimezone: parseBoolean(data.showClockTimezone),\n    color: notEmptyStringOr(data.color, null),\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class Clock extends Item<ClockProps> {\n  public static readonly TICK_INTERVAL = 1000; // In ms.\n  private intervalRef: number | null = null;\n\n  public constructor(props: ClockProps) {\n    // Call the superclass constructor.\n    super(props);\n\n    /* The item is already loaded and inserted into the DOM.\n     * The class properties are now initialized.\n     * Now you can modify the item, add event handlers, timers, etc.\n     */\n\n    /* The use of the arrow function is important here. startTick will\n     * use the function passed as an argument to call the global setInterval\n     * function. The interval, timeout or event functions, among other, are\n     * called into another execution loop and using a different context.\n     * The arrow functions, unlike the classic functions, doesn't create\n     * their own context (this), so their context at execution time will be\n     * use the current context at the declaration time.\n     * http://es6-features.org/#Lexicalthis\n     */\n    this.startTick(\n      () => {\n        // Replace the old element with the updated date.\n        this.childElementRef.innerHTML = this.createClock().innerHTML;\n      },\n      /* The analogic clock doesn't need to tick,\n       * but it will be refreshed every 20 seconds\n       * to avoid a desync caused by page freezes.\n       */\n      this.props.clockType === \"analogic\" ? 20000 : Clock.TICK_INTERVAL\n    );\n  }\n\n  /**\n   * Wrap a window.clearInterval call.\n   */\n  private stopTick(): void {\n    if (this.intervalRef !== null) {\n      window.clearInterval(this.intervalRef);\n      this.intervalRef = null;\n    }\n  }\n\n  /**\n   * Wrap a window.setInterval call.\n   * @param handler Function to be called every time the interval\n   * timer is reached.\n   * @param interval Number in milliseconds for the interval timer.\n   */\n  private startTick(\n    handler: TimerHandler,\n    interval: number = Clock.TICK_INTERVAL\n  ): void {\n    this.stopTick();\n    this.intervalRef = window.setInterval(handler, interval);\n  }\n\n  /**\n   * Create a element which contains the DOM representation of the item.\n   * @return DOM Element.\n   * @override\n   */\n  protected createDomElement(): HTMLElement | never {\n    return this.createClock();\n  }\n\n  /**\n   * To remove the event listeners and the elements from the DOM.\n   * @override\n   */\n  public remove(): void {\n    // Clear the interval.\n    this.stopTick();\n    // Call to the parent clean function.\n    super.remove();\n  }\n\n  /**\n   * @override Item.resizeElement\n   * Resize the DOM content container.\n   * @param width\n   * @param height\n   */\n  protected resizeElement(width: number, height: number): void {\n    const { width: newWidth, height: newHeight } = this.getElementSize(\n      width,\n      height\n    ); // Destructuring assigment: http://es6-features.org/#ObjectMatchingShorthandNotation\n    super.resizeElement(newWidth, newHeight);\n    // Re-render the item to force it calculate a new font size.\n    if (this.props.clockType === \"digital\") {\n      // Replace the old element with the updated date.\n      this.childElementRef.innerHTML = this.createClock().innerHTML;\n    }\n  }\n\n  /**\n   * Create a element which contains a representation of a clock.\n   * It choose between the clock types.\n   * @return DOM Element.\n   * @throws Error.\n   */\n  private createClock(): HTMLElement | never {\n    switch (this.props.clockType) {\n      case \"analogic\":\n        return this.createAnalogicClock();\n      case \"digital\":\n        return this.createDigitalClock();\n      default:\n        throw new Error(\"invalid clock type.\");\n    }\n  }\n\n  /**\n   * Create a element which contains a representation of an analogic clock.\n   * @return DOM Element.\n   */\n  private createAnalogicClock(): HTMLElement {\n    const svgNS = \"http://www.w3.org/2000/svg\";\n    const colors = {\n      watchFace: \"#FFFFF0\",\n      watchFaceBorder: \"#242124\",\n      mark: \"#242124\",\n      handDark: \"#242124\",\n      handLight: \"#525252\",\n      secondHand: \"#DC143C\"\n    };\n\n    const { width, height } = this.getElementSize(); // Destructuring assigment: http://es6-features.org/#ObjectMatchingShorthandNotation\n\n    const div = document.createElement(\"div\");\n    div.className = \"analogic-clock\";\n    div.style.width = `${width}px`;\n    div.style.height = `${height}px`;\n\n    // SVG container.\n    const svg = document.createElementNS(svgNS, \"svg\");\n    // Auto resize SVG using the view box magic: https://css-tricks.com/scale-svg/\n    svg.setAttribute(\"viewBox\", \"0 0 100 100\");\n\n    // Clock face.\n    const clockFace = document.createElementNS(svgNS, \"g\");\n    clockFace.setAttribute(\"class\", \"clockface\");\n    const clockFaceBackground = document.createElementNS(svgNS, \"circle\");\n    clockFaceBackground.setAttribute(\"cx\", \"50\");\n    clockFaceBackground.setAttribute(\"cy\", \"50\");\n    clockFaceBackground.setAttribute(\"r\", \"48\");\n    clockFaceBackground.setAttribute(\"fill\", colors.watchFace);\n    clockFaceBackground.setAttribute(\"stroke\", colors.watchFaceBorder);\n    clockFaceBackground.setAttribute(\"stroke-width\", \"2\");\n    clockFaceBackground.setAttribute(\"stroke-linecap\", \"round\");\n    // Insert the clockface background into the clockface group.\n    clockFace.append(clockFaceBackground);\n\n    // Timezone complication.\n    const city = this.getHumanTimezone();\n    if (city.length > 0) {\n      const timezoneComplication = document.createElementNS(svgNS, \"text\");\n      timezoneComplication.setAttribute(\"text-anchor\", \"middle\");\n      timezoneComplication.setAttribute(\"font-size\", \"8\");\n      timezoneComplication.setAttribute(\n        \"transform\",\n        \"translate(30 50) rotate(90)\" // Rotate to counter the clock rotation.\n      );\n      timezoneComplication.setAttribute(\"fill\", colors.mark);\n      timezoneComplication.textContent = city;\n      clockFace.append(timezoneComplication);\n    }\n\n    // Marks group.\n    const marksGroup = document.createElementNS(svgNS, \"g\");\n    marksGroup.setAttribute(\"class\", \"marks\");\n    // Build the 12 hours mark.\n    const mainMarkGroup = document.createElementNS(svgNS, \"g\");\n    mainMarkGroup.setAttribute(\"class\", \"mark\");\n    mainMarkGroup.setAttribute(\"transform\", \"translate(50 50)\");\n    const mark1a = document.createElementNS(svgNS, \"line\");\n    mark1a.setAttribute(\"x1\", \"36\");\n    mark1a.setAttribute(\"y1\", \"0\");\n    mark1a.setAttribute(\"x2\", \"46\");\n    mark1a.setAttribute(\"y2\", \"0\");\n    mark1a.setAttribute(\"stroke\", colors.mark);\n    mark1a.setAttribute(\"stroke-width\", \"5\");\n    const mark1b = document.createElementNS(svgNS, \"line\");\n    mark1b.setAttribute(\"x1\", \"36\");\n    mark1b.setAttribute(\"y1\", \"0\");\n    mark1b.setAttribute(\"x2\", \"46\");\n    mark1b.setAttribute(\"y2\", \"0\");\n    mark1b.setAttribute(\"stroke\", colors.watchFace);\n    mark1b.setAttribute(\"stroke-width\", \"1\");\n    // Insert the 12 mark lines into their group.\n    mainMarkGroup.append(mark1a, mark1b);\n    // Insert the main mark into the marks group.\n    marksGroup.append(mainMarkGroup);\n    // Build the rest of the marks.\n    for (let i = 1; i < 60; i++) {\n      const mark = document.createElementNS(svgNS, \"line\");\n      mark.setAttribute(\"y1\", \"0\");\n      mark.setAttribute(\"y2\", \"0\");\n      mark.setAttribute(\"stroke\", colors.mark);\n      mark.setAttribute(\"transform\", `translate(50 50) rotate(${i * 6})`);\n\n      if (i % 5 === 0) {\n        mark.setAttribute(\"x1\", \"38\");\n        mark.setAttribute(\"x2\", \"46\");\n        mark.setAttribute(\"stroke-width\", i % 15 === 0 ? \"2\" : \"1\");\n      } else {\n        mark.setAttribute(\"x1\", \"42\");\n        mark.setAttribute(\"x2\", \"46\");\n        mark.setAttribute(\"stroke-width\", \"0.5\");\n      }\n\n      // Insert the mark into the marks group.\n      marksGroup.append(mark);\n    }\n\n    /* Clock hands */\n\n    // Hour hand.\n    const hourHand = document.createElementNS(svgNS, \"g\");\n    hourHand.setAttribute(\"class\", \"hour-hand\");\n    hourHand.setAttribute(\"transform\", \"translate(50 50)\");\n    // This will go back and will act like a border.\n    const hourHandA = document.createElementNS(svgNS, \"line\");\n    hourHandA.setAttribute(\"class\", \"hour-hand-a\");\n    hourHandA.setAttribute(\"x1\", \"0\");\n    hourHandA.setAttribute(\"y1\", \"0\");\n    hourHandA.setAttribute(\"x2\", \"30\");\n    hourHandA.setAttribute(\"y2\", \"0\");\n    hourHandA.setAttribute(\"stroke\", colors.handLight);\n    hourHandA.setAttribute(\"stroke-width\", \"4\");\n    hourHandA.setAttribute(\"stroke-linecap\", \"round\");\n    // This will go in front of the previous line.\n    const hourHandB = document.createElementNS(svgNS, \"line\");\n    hourHandB.setAttribute(\"class\", \"hour-hand-b\");\n    hourHandB.setAttribute(\"x1\", \"0\");\n    hourHandB.setAttribute(\"y1\", \"0\");\n    hourHandB.setAttribute(\"x2\", \"29.9\");\n    hourHandB.setAttribute(\"y2\", \"0\");\n    hourHandB.setAttribute(\"stroke\", colors.handDark);\n    hourHandB.setAttribute(\"stroke-width\", \"3.1\");\n    hourHandB.setAttribute(\"stroke-linecap\", \"round\");\n    // Append the elements to finish the hour hand.\n    hourHand.append(hourHandA, hourHandB);\n\n    // Minute hand.\n    const minuteHand = document.createElementNS(svgNS, \"g\");\n    minuteHand.setAttribute(\"class\", \"minute-hand\");\n    minuteHand.setAttribute(\"transform\", \"translate(50 50)\");\n    // This will go back and will act like a border.\n    const minuteHandA = document.createElementNS(svgNS, \"line\");\n    minuteHandA.setAttribute(\"class\", \"minute-hand-a\");\n    minuteHandA.setAttribute(\"x1\", \"0\");\n    minuteHandA.setAttribute(\"y1\", \"0\");\n    minuteHandA.setAttribute(\"x2\", \"40\");\n    minuteHandA.setAttribute(\"y2\", \"0\");\n    minuteHandA.setAttribute(\"stroke\", colors.handLight);\n    minuteHandA.setAttribute(\"stroke-width\", \"2\");\n    minuteHandA.setAttribute(\"stroke-linecap\", \"round\");\n    // This will go in front of the previous line.\n    const minuteHandB = document.createElementNS(svgNS, \"line\");\n    minuteHandB.setAttribute(\"class\", \"minute-hand-b\");\n    minuteHandB.setAttribute(\"x1\", \"0\");\n    minuteHandB.setAttribute(\"y1\", \"0\");\n    minuteHandB.setAttribute(\"x2\", \"39.9\");\n    minuteHandB.setAttribute(\"y2\", \"0\");\n    minuteHandB.setAttribute(\"stroke\", colors.handDark);\n    minuteHandB.setAttribute(\"stroke-width\", \"1.5\");\n    minuteHandB.setAttribute(\"stroke-linecap\", \"round\");\n    const minuteHandPin = document.createElementNS(svgNS, \"circle\");\n    minuteHandPin.setAttribute(\"r\", \"3\");\n    minuteHandPin.setAttribute(\"fill\", colors.handDark);\n    // Append the elements to finish the minute hand.\n    minuteHand.append(minuteHandA, minuteHandB, minuteHandPin);\n\n    // Second hand.\n    const secondHand = document.createElementNS(svgNS, \"g\");\n    secondHand.setAttribute(\"class\", \"second-hand\");\n    secondHand.setAttribute(\"transform\", \"translate(50 50)\");\n    const secondHandBar = document.createElementNS(svgNS, \"line\");\n    secondHandBar.setAttribute(\"x1\", \"0\");\n    secondHandBar.setAttribute(\"y1\", \"0\");\n    secondHandBar.setAttribute(\"x2\", \"46\");\n    secondHandBar.setAttribute(\"y2\", \"0\");\n    secondHandBar.setAttribute(\"stroke\", colors.secondHand);\n    secondHandBar.setAttribute(\"stroke-width\", \"1\");\n    secondHandBar.setAttribute(\"stroke-linecap\", \"round\");\n    const secondHandPin = document.createElementNS(svgNS, \"circle\");\n    secondHandPin.setAttribute(\"r\", \"2\");\n    secondHandPin.setAttribute(\"fill\", colors.secondHand);\n    // Append the elements to finish the second hand.\n    secondHand.append(secondHandBar, secondHandPin);\n\n    // Pin.\n    const pin = document.createElementNS(svgNS, \"circle\");\n    pin.setAttribute(\"cx\", \"50\");\n    pin.setAttribute(\"cy\", \"50\");\n    pin.setAttribute(\"r\", \"0.3\");\n    pin.setAttribute(\"fill\", colors.handDark);\n\n    // Get the hand angles.\n    const date = this.getDate();\n    const seconds = date.getSeconds();\n    const minutes = date.getMinutes();\n    const hours = date.getHours();\n    const secAngle = (360 / 60) * seconds;\n    const minuteAngle = (360 / 60) * minutes + (360 / 60) * (seconds / 60);\n    const hourAngle = (360 / 12) * hours + (360 / 12) * (minutes / 60);\n    // Set the clock time by moving the hands.\n    hourHand.setAttribute(\"transform\", `translate(50 50) rotate(${hourAngle})`);\n    minuteHand.setAttribute(\n      \"transform\",\n      `translate(50 50) rotate(${minuteAngle})`\n    );\n    secondHand.setAttribute(\n      \"transform\",\n      `translate(50 50) rotate(${secAngle})`\n    );\n\n    // Build the clock\n    svg.append(clockFace, marksGroup, hourHand, minuteHand, secondHand, pin);\n    // Rotate the clock to its normal position.\n    svg.setAttribute(\"transform\", \"rotate(-90)\");\n\n    /* Add the animation declaration to the container.\n     * Since the animation keyframes need to know the\n     * start angle, this angle is dynamic (current time),\n     * and we can't edit keyframes through javascript\n     * safely and with backwards compatibility, we need\n     * to inject it.\n     */\n    div.innerHTML = `\n      <style>\n        @keyframes rotate-hour {\n          from {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${hourAngle}deg)`\n            ).join(\"\\n\")}\n          }\n          to {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${hourAngle + 360}deg)`\n            ).join(\"\\n\")}\n          }\n        }\n        @keyframes rotate-minute {\n          from {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${minuteAngle}deg)`\n            ).join(\"\\n\")}\n          }\n          to {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${minuteAngle + 360}deg)`\n            ).join(\"\\n\")}\n          }\n        }\n        @keyframes rotate-second {\n          from {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${secAngle}deg)`\n            ).join(\"\\n\")}\n          }\n          to {\n            ${prefixedCssRules(\n              \"transform\",\n              `translate(50px, 50px) rotate(${secAngle + 360}deg)`\n            ).join(\"\\n\")}\n          }\n        }\n      </style>\n    `;\n    // Add the clock to the container\n    div.append(svg);\n\n    return div;\n  }\n\n  /**\n   * Create a element which contains a representation of a digital clock.\n   * @return DOM Element.\n   */\n  private createDigitalClock(): HTMLElement {\n    const element: HTMLDivElement = document.createElement(\"div\");\n    element.className = \"digital-clock\";\n\n    const { width } = this.getElementSize(); // Destructuring assigment: http://es6-features.org/#ObjectMatchingShorthandNotation\n\n    // Calculate font size to adapt the font to the item size.\n    const baseTimeFontSize = 20; // Per 100px of width.\n    const dateFontSizeMultiplier = 0.5;\n    const tzFontSizeMultiplier = 6 / this.props.clockTimezone.length;\n    const timeFontSize = (baseTimeFontSize * width) / 100;\n    const dateFontSize =\n      (baseTimeFontSize * dateFontSizeMultiplier * width) / 100;\n    const tzFontSize = Math.min(\n      (baseTimeFontSize * tzFontSizeMultiplier * width) / 100,\n      (width / 100) * 10\n    );\n\n    // Date.\n    if (this.props.clockFormat === \"datetime\") {\n      const dateElem: HTMLSpanElement = document.createElement(\"span\");\n      dateElem.className = \"date\";\n      dateElem.textContent = this.getDigitalDate();\n      dateElem.style.fontSize = `${dateFontSize}px`;\n      if (this.props.color) dateElem.style.color = this.props.color;\n      element.append(dateElem);\n    }\n\n    // Time.\n    const timeElem: HTMLSpanElement = document.createElement(\"span\");\n    timeElem.className = \"time\";\n    timeElem.textContent = this.getDigitalTime();\n    timeElem.style.fontSize = `${timeFontSize}px`;\n    if (this.props.color) timeElem.style.color = this.props.color;\n    element.append(timeElem);\n\n    // City name.\n    const city = this.getHumanTimezone();\n    if (city.length > 0) {\n      const tzElem: HTMLSpanElement = document.createElement(\"span\");\n      tzElem.className = \"timezone\";\n      tzElem.textContent = city;\n      tzElem.style.fontSize = `${tzFontSize}px`;\n      if (this.props.color) tzElem.style.color = this.props.color;\n      element.append(tzElem);\n    }\n\n    return element;\n  }\n\n  /**\n   * Generate the current date using the timezone offset stored into the properties.\n   * @return The current date.\n   */\n  private getDate(): Date {\n    const d = new Date();\n    const targetTZOffset = this.props.clockTimezoneOffset * 1000; // In ms.\n    const localTZOffset = d.getTimezoneOffset() * 60 * 1000; // In ms.\n    const utimestamp = d.getTime() + targetTZOffset + localTZOffset;\n\n    return new Date(utimestamp);\n  }\n\n  /**\n   * Generate a date representation with the format 'd/m/Y'.\n   * @example 24/02/2020.\n   * @return Date representation.\n   */\n  public getDigitalDate(initialDate: Date | null = null): string {\n    const date = initialDate || this.getDate();\n    // Use getDate, getDay returns the week day.\n    const day = padLeft(date.getDate(), 2, 0);\n    // The getMonth function returns the month starting by 0.\n    const month = padLeft(date.getMonth() + 1, 2, 0);\n    const year = padLeft(date.getFullYear(), 4, 0);\n\n    // Format: 'd/m/Y'.\n    return `${day}/${month}/${year}`;\n  }\n\n  /**\n   * Generate a time representation with the format 'hh:mm:ss'.\n   * @example 01:34:09.\n   * @return Time representation.\n   */\n  public getDigitalTime(initialDate: Date | null = null): string {\n    const date = initialDate || this.getDate();\n    const hours = padLeft(date.getHours(), 2, 0);\n    const minutes = padLeft(date.getMinutes(), 2, 0);\n    const seconds = padLeft(date.getSeconds(), 2, 0);\n\n    return `${hours}:${minutes}:${seconds}`;\n  }\n\n  /**\n   * Extract a human readable city name from the timezone text.\n   * @param timezone Timezone text.\n   */\n  public getHumanTimezone(timezone: string = this.props.clockTimezone): string {\n    const [, city = \"\"] = timezone.split(\"/\");\n    return city.replace(\"_\", \" \");\n  }\n\n  /**\n   * Generate a element size using the current size and the default values.\n   * @return The size.\n   */\n  private getElementSize(\n    width: number = this.props.width,\n    height: number = this.props.height\n  ): Size {\n    switch (this.props.clockType) {\n      case \"analogic\": {\n        let diameter = 100; // Default value.\n\n        if (width > 0 && height > 0) {\n          diameter = Math.min(width, height);\n        } else if (width > 0) {\n          diameter = width;\n        } else if (height > 0) {\n          diameter = height;\n        }\n\n        return {\n          width: diameter,\n          height: diameter\n        };\n      }\n      case \"digital\": {\n        if (width > 0 && height > 0) {\n          // The proportion of the clock should be (width = height / 2) aproximately.\n          height = width / 2 < height ? width / 2 : height;\n        } else if (width > 0) {\n          height = width / 2;\n        } else if (height > 0) {\n          // The proportion of the clock should be (height * 2 = width) aproximately.\n          width = height * 2;\n        } else {\n          width = 100; // Default value.\n          height = 50; // Default value.\n        }\n\n        return {\n          width,\n          height\n        };\n      }\n      default:\n        throw new Error(\"invalid clock type.\");\n    }\n  }\n}\n","import { UnknownObject } from \"../types\";\nimport { parseIntOr, notEmptyStringOr } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\ninterface BoxProps extends ItemProps {\n  // Overrided properties.\n  readonly type: ItemType.BOX_ITEM;\n  label: null;\n  isLinkEnabled: false;\n  parentId: null;\n  aclGroupId: null;\n  // Custom properties.\n  borderWidth: number;\n  borderColor: string | null;\n  fillColor: string | null;\n}\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the item props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function boxPropsDecoder(data: UnknownObject): BoxProps | never {\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.BOX_ITEM,\n    label: null,\n    isLinkEnabled: false,\n    parentId: null,\n    aclGroupId: null,\n    // Custom properties.\n    borderWidth: parseIntOr(data.borderWidth, 0),\n    borderColor: notEmptyStringOr(data.borderColor, null),\n    fillColor: notEmptyStringOr(data.fillColor, null)\n  };\n}\n\nexport default class Box extends Item<BoxProps> {\n  protected createDomElement(): HTMLElement {\n    const box: HTMLDivElement = document.createElement(\"div\");\n    box.className = \"box\";\n    // To prevent this item to expand beyond its parent.\n    box.style.boxSizing = \"border-box\";\n\n    if (this.props.fillColor) {\n      box.style.backgroundColor = this.props.fillColor;\n    }\n\n    // Border.\n    if (this.props.borderWidth > 0) {\n      box.style.borderStyle = \"solid\";\n      // Control the max width to prevent this item to expand beyond its parent.\n      const maxBorderWidth = Math.min(this.props.width, this.props.height) / 2;\n      const borderWidth = Math.min(this.props.borderWidth, maxBorderWidth);\n      box.style.borderWidth = `${borderWidth}px`;\n\n      if (this.props.borderColor) {\n        box.style.borderColor = this.props.borderColor;\n      }\n    }\n\n    return box;\n  }\n}\n","import { UnknownObject, Position, Size } from \"../types\";\nimport { parseIntOr, notEmptyStringOr } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\ninterface LineProps extends ItemProps {\n  // Overrided properties.\n  readonly type: ItemType.LINE_ITEM;\n  label: null;\n  isLinkEnabled: false;\n  parentId: null;\n  aclGroupId: null;\n  // Custom properties.\n  startPosition: Position;\n  endPosition: Position;\n  lineWidth: number;\n  color: string | null;\n}\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the item props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function linePropsDecoder(data: UnknownObject): LineProps | never {\n  const props: LineProps = {\n    ...itemBasePropsDecoder({ ...data, width: 1, height: 1 }), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.LINE_ITEM,\n    label: null,\n    isLinkEnabled: false,\n    parentId: null,\n    aclGroupId: null,\n    // Initialize Position & Size.\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    // Custom properties.\n    startPosition: {\n      x: parseIntOr(data.startX, 0),\n      y: parseIntOr(data.startY, 0)\n    },\n    endPosition: {\n      x: parseIntOr(data.endX, 0),\n      y: parseIntOr(data.endY, 0)\n    },\n    lineWidth: parseIntOr(data.lineWidth || data.borderWidth, 1),\n    color: notEmptyStringOr(data.borderColor || data.color, null)\n  };\n\n  /*\n   * We need to enhance the props with the extracted size and position\n   * of the box cause there are missing at the props update. A better\n   * solution would be overriding the props setter to do it there, but\n   * the language doesn't allow it while targetting ES5.\n   * TODO: We need to figure out a more consistent solution.\n   */\n\n  return {\n    ...props,\n    // Enhance the props extracting the box size and position.\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    ...Line.extractBoxSizeAndPosition(props)\n  };\n}\n\nexport default class Line extends Item<LineProps> {\n  /**\n   * @override\n   */\n  public constructor(props: LineProps) {\n    /*\n     * We need to override the constructor cause we need to obtain\n     * the\n     * box size and position from the start and finish points\n     * of the line.\n     */\n    super({\n      ...props,\n      ...Line.extractBoxSizeAndPosition(props)\n    });\n  }\n\n  /**\n   * @override\n   * To create the item's DOM representation.\n   * @return Item.\n   */\n  protected createDomElement(): HTMLElement {\n    const element: HTMLDivElement = document.createElement(\"div\");\n    element.className = \"line\";\n\n    const svgNS = \"http://www.w3.org/2000/svg\";\n    // SVG container.\n    const svg = document.createElementNS(svgNS, \"svg\");\n    // Set SVG size.\n    svg.setAttribute(\n      \"width\",\n      (this.props.width + this.props.lineWidth).toString()\n    );\n    svg.setAttribute(\n      \"height\",\n      (this.props.height + this.props.lineWidth).toString()\n    );\n    const line = document.createElementNS(svgNS, \"line\");\n    line.setAttribute(\n      \"x1\",\n      `${this.props.startPosition.x - this.props.x + this.props.lineWidth / 2}`\n    );\n    line.setAttribute(\n      \"y1\",\n      `${this.props.startPosition.y - this.props.y + this.props.lineWidth / 2}`\n    );\n    line.setAttribute(\n      \"x2\",\n      `${this.props.endPosition.x - this.props.x + this.props.lineWidth / 2}`\n    );\n    line.setAttribute(\n      \"y2\",\n      `${this.props.endPosition.y - this.props.y + this.props.lineWidth / 2}`\n    );\n    line.setAttribute(\"stroke\", this.props.color || \"black\");\n    line.setAttribute(\"stroke-width\", this.props.lineWidth.toString());\n\n    svg.append(line);\n    element.append(svg);\n\n    return element;\n  }\n\n  /**\n   * Extract the size and position of the box from\n   * the start and the finish of the line.\n   * @param props Item properties.\n   */\n  public static extractBoxSizeAndPosition(props: LineProps): Size & Position {\n    return {\n      width: Math.abs(props.startPosition.x - props.endPosition.x),\n      height: Math.abs(props.startPosition.y - props.endPosition.y),\n      x: Math.min(props.startPosition.x, props.endPosition.x),\n      y: Math.min(props.startPosition.y, props.endPosition.y)\n    };\n  }\n}\n","import { LinkedVisualConsoleProps, UnknownObject } from \"../types\";\nimport { linkedVCPropsDecoder } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type LabelProps = {\n  type: ItemType.LABEL;\n} & ItemProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the label props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function labelPropsDecoder(data: UnknownObject): LabelProps | never {\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.LABEL,\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class Label extends Item<LabelProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"label\";\n    element.innerHTML = this.props.label || \"\";\n\n    return element;\n  }\n\n  /**\n   * @override Item.createLabelDomElement\n   * Create a new label for the visual console item.\n   * @return Item label.\n   */\n  public createLabelDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"visual-console-item-label\";\n    // Always return an empty label.\n    return element;\n  }\n}\n","import {\n  LinkedVisualConsoleProps,\n  UnknownObject,\n  WithModuleProps\n} from \"../types\";\nimport { linkedVCPropsDecoder, parseIntOr, modulePropsDecoder } from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type SimpleValueProps = {\n  type: ItemType.SIMPLE_VALUE;\n  valueType: \"string\" | \"image\";\n  value: string;\n} & (\n  | {\n      processValue: \"none\";\n    }\n  | {\n      processValue: \"avg\" | \"max\" | \"min\";\n      period: number;\n    }) &\n  ItemProps &\n  WithModuleProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Extract a valid enum value from a raw value type.\n * @param valueType Raw value.\n */\nconst parseValueType = (\n  valueType: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): SimpleValueProps[\"valueType\"] => {\n  switch (valueType) {\n    case \"string\":\n    case \"image\":\n      return valueType;\n    default:\n      return \"string\";\n  }\n};\n\n/**\n * Extract a valid enum value from a raw process value.\n * @param processValue Raw value.\n */\nconst parseProcessValue = (\n  processValue: any // eslint-disable-line @typescript-eslint/no-explicit-any\n): SimpleValueProps[\"processValue\"] => {\n  switch (processValue) {\n    case \"none\":\n    case \"avg\":\n    case \"max\":\n    case \"min\":\n      return processValue;\n    default:\n      return \"none\";\n  }\n};\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the simple value props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function simpleValuePropsDecoder(\n  data: UnknownObject\n): SimpleValueProps | never {\n  if (typeof data.value !== \"string\" || data.value.length === 0) {\n    throw new TypeError(\"invalid value\");\n  }\n\n  const processValue = parseProcessValue(data.processValue);\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.SIMPLE_VALUE,\n    valueType: parseValueType(data.valueType),\n    value: data.value,\n    ...(processValue === \"none\"\n      ? { processValue }\n      : { processValue, period: parseIntOr(data.period, 0) }), // Object spread. It will merge the properties of the two objects.\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nexport default class SimpleValue extends Item<SimpleValueProps> {\n  protected createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"simple-value\";\n\n    if (this.props.valueType === \"image\") {\n      const img = document.createElement(\"img\");\n      img.src = this.props.value;\n      element.append(img);\n    } else {\n      // Add the value to the label and show it.\n      let text = this.props.value;\n      if (this.props.label) {\n        text = this.props.label.replace(/\\(?_VALUE_\\)?/i, text);\n      }\n\n      element.innerHTML = text;\n    }\n\n    return element;\n  }\n\n  /**\n   * @override Item.createLabelDomElement\n   * Create a new label for the visual console item.\n   * @return Item label.\n   */\n  protected createLabelDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"visual-console-item-label\";\n    // Always return an empty label.\n    return element;\n  }\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","export var slice = Array.prototype.slice;\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default function() {}\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import { arc as arcFactory } from \"d3-shape\";\n\nimport {\n  LinkedVisualConsoleProps,\n  UnknownObject,\n  WithModuleProps\n} from \"../types\";\nimport {\n  linkedVCPropsDecoder,\n  modulePropsDecoder,\n  notEmptyStringOr,\n  parseIntOr,\n  parseFloatOr\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type PercentileProps = {\n  type: ItemType.PERCENTILE_BAR;\n  percentileType:\n    | \"progress-bar\"\n    | \"bubble\"\n    | \"circular-progress-bar\"\n    | \"circular-progress-bar-alt\";\n  valueType: \"percent\" | \"value\";\n  minValue: number | null;\n  maxValue: number | null;\n  color: string | null;\n  labelColor: string | null;\n  value: number | null;\n  unit: string | null;\n} & ItemProps &\n  WithModuleProps &\n  LinkedVisualConsoleProps;\n\n/**\n * Extract a valid enum value from a raw type value.\n * @param type Raw value.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extractPercentileType(type: any): PercentileProps[\"percentileType\"] {\n  switch (type) {\n    case \"progress-bar\":\n    case \"bubble\":\n    case \"circular-progress-bar\":\n    case \"circular-progress-bar-alt\":\n      return type;\n    default:\n    case ItemType.PERCENTILE_BAR:\n      return \"progress-bar\";\n    case ItemType.PERCENTILE_BUBBLE:\n      return \"bubble\";\n    case ItemType.CIRCULAR_PROGRESS_BAR:\n      return \"circular-progress-bar\";\n    case ItemType.CIRCULAR_INTERIOR_PROGRESS_BAR:\n      return \"circular-progress-bar-alt\";\n  }\n}\n\n/**\n * Extract a valid enum value from a raw value type value.\n * @param type Raw value.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extractValueType(valueType: any): PercentileProps[\"valueType\"] {\n  switch (valueType) {\n    case \"percent\":\n    case \"value\":\n      return valueType;\n    default:\n      return \"percent\";\n  }\n}\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the percentile props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function percentilePropsDecoder(\n  data: UnknownObject\n): PercentileProps | never {\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.PERCENTILE_BAR,\n    percentileType: extractPercentileType(data.percentileType || data.type),\n    valueType: extractValueType(data.valueType),\n    minValue: parseIntOr(data.minValue, null),\n    maxValue: parseIntOr(data.maxValue, null),\n    color: notEmptyStringOr(data.color, null),\n    labelColor: notEmptyStringOr(data.labelColor, null),\n    value: parseFloatOr(data.value, null),\n    unit: notEmptyStringOr(data.unit, null),\n    ...modulePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    ...linkedVCPropsDecoder(data) // Object spread. It will merge the properties of the two objects.\n  };\n}\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\n\nexport default class Percentile extends Item<PercentileProps> {\n  protected createDomElement(): HTMLElement {\n    const colors = {\n      background: \"#000000\",\n      progress: this.props.color || \"#F0F0F0\",\n      text: this.props.labelColor || \"#444444\"\n    };\n    // Progress.\n    const progress = this.getProgress();\n    // Main element.\n    const element = document.createElement(\"div\");\n    // SVG container.\n    const svg = document.createElementNS(svgNS, \"svg\");\n\n    switch (this.props.percentileType) {\n      case \"progress-bar\":\n        {\n          const backgroundRect = document.createElementNS(svgNS, \"rect\");\n          backgroundRect.setAttribute(\"fill\", colors.background);\n          backgroundRect.setAttribute(\"fill-opacity\", \"0.5\");\n          backgroundRect.setAttribute(\"width\", \"100\");\n          backgroundRect.setAttribute(\"height\", \"20\");\n          backgroundRect.setAttribute(\"rx\", \"5\");\n          backgroundRect.setAttribute(\"ry\", \"5\");\n          const progressRect = document.createElementNS(svgNS, \"rect\");\n          progressRect.setAttribute(\"fill\", colors.progress);\n          progressRect.setAttribute(\"fill-opacity\", \"1\");\n          progressRect.setAttribute(\"width\", `${progress}`);\n          progressRect.setAttribute(\"height\", \"20\");\n          progressRect.setAttribute(\"rx\", \"5\");\n          progressRect.setAttribute(\"ry\", \"5\");\n          const text = document.createElementNS(svgNS, \"text\");\n          text.setAttribute(\"text-anchor\", \"middle\");\n          text.setAttribute(\"alignment-baseline\", \"middle\");\n          text.setAttribute(\"font-size\", \"12\");\n          text.setAttribute(\"font-family\", \"arial\");\n          text.setAttribute(\"font-weight\", \"bold\");\n          text.setAttribute(\"transform\", \"translate(50 11)\");\n          text.setAttribute(\"fill\", colors.text);\n\n          if (this.props.valueType === \"value\") {\n            text.textContent = this.props.unit\n              ? `${this.props.value} ${this.props.unit}`\n              : `${this.props.value}`;\n          } else {\n            text.textContent = `${progress}%`;\n          }\n\n          // Auto resize SVG using the view box magic: https://css-tricks.com/scale-svg/\n          svg.setAttribute(\"viewBox\", \"0 0 100 20\");\n          svg.append(backgroundRect, progressRect, text);\n        }\n        break;\n      case \"bubble\":\n      case \"circular-progress-bar\":\n      case \"circular-progress-bar-alt\":\n        {\n          // Auto resize SVG using the view box magic: https://css-tricks.com/scale-svg/\n          svg.setAttribute(\"viewBox\", \"0 0 100 100\");\n\n          if (this.props.percentileType === \"bubble\") {\n            // Create and append the circles.\n            const backgroundCircle = document.createElementNS(svgNS, \"circle\");\n            backgroundCircle.setAttribute(\"transform\", \"translate(50 50)\");\n            backgroundCircle.setAttribute(\"fill\", colors.background);\n            backgroundCircle.setAttribute(\"fill-opacity\", \"0.5\");\n            backgroundCircle.setAttribute(\"r\", \"50\");\n            const progressCircle = document.createElementNS(svgNS, \"circle\");\n            progressCircle.setAttribute(\"transform\", \"translate(50 50)\");\n            progressCircle.setAttribute(\"fill\", colors.progress);\n            progressCircle.setAttribute(\"fill-opacity\", \"1\");\n            progressCircle.setAttribute(\"r\", `${progress / 2}`);\n\n            svg.append(backgroundCircle, progressCircle);\n          } else {\n            // Create and append the circles.\n            const arcProps = {\n              innerRadius:\n                this.props.percentileType === \"circular-progress-bar\" ? 30 : 0,\n              outerRadius: 50,\n              startAngle: 0,\n              endAngle: Math.PI * 2\n            };\n            const arc = arcFactory();\n\n            const backgroundCircle = document.createElementNS(svgNS, \"path\");\n            backgroundCircle.setAttribute(\"transform\", \"translate(50 50)\");\n            backgroundCircle.setAttribute(\"fill\", colors.background);\n            backgroundCircle.setAttribute(\"fill-opacity\", \"0.5\");\n            backgroundCircle.setAttribute(\"d\", `${arc(arcProps)}`);\n            const progressCircle = document.createElementNS(svgNS, \"path\");\n            progressCircle.setAttribute(\"transform\", \"translate(50 50)\");\n            progressCircle.setAttribute(\"fill\", colors.progress);\n            progressCircle.setAttribute(\"fill-opacity\", \"1\");\n            progressCircle.setAttribute(\n              \"d\",\n              `${arc({\n                ...arcProps,\n                endAngle: arcProps.endAngle * (progress / 100)\n              })}`\n            );\n\n            svg.append(backgroundCircle, progressCircle);\n          }\n\n          // Create and append the text.\n          const text = document.createElementNS(svgNS, \"text\");\n          text.setAttribute(\"text-anchor\", \"middle\");\n          text.setAttribute(\"alignment-baseline\", \"middle\");\n          text.setAttribute(\"font-size\", \"16\");\n          text.setAttribute(\"font-family\", \"arial\");\n          text.setAttribute(\"font-weight\", \"bold\");\n          text.setAttribute(\"fill\", colors.text);\n\n          if (this.props.valueType === \"value\") {\n            // Show value and unit in 1 (no unit) or 2 lines.\n            if (this.props.unit && this.props.unit.length > 0) {\n              const value = document.createElementNS(svgNS, \"tspan\");\n              value.setAttribute(\"x\", \"0\");\n              value.setAttribute(\"dy\", \"1em\");\n              value.textContent = `${this.props.value}`;\n              const unit = document.createElementNS(svgNS, \"tspan\");\n              unit.setAttribute(\"x\", \"0\");\n              unit.setAttribute(\"dy\", \"1em\");\n              unit.textContent = `${this.props.unit}`;\n              text.append(value, unit);\n              text.setAttribute(\"transform\", \"translate(50 33)\");\n            } else {\n              text.textContent = `${this.props.value}`;\n              text.setAttribute(\"transform\", \"translate(50 50)\");\n            }\n          } else {\n            // Percentage.\n            text.textContent = `${progress}%`;\n            text.setAttribute(\"transform\", \"translate(50 50)\");\n          }\n\n          svg.append(text);\n        }\n        break;\n    }\n\n    element.append(svg);\n\n    return element;\n  }\n\n  private getProgress(): number {\n    const minValue = this.props.minValue || 0;\n    const maxValue = this.props.maxValue || 100;\n    const value = this.props.value || 100;\n\n    if (value <= minValue) return 0;\n    else if (value >= maxValue) return 100;\n    else return ((value - minValue) / (maxValue - minValue)) * 100;\n  }\n}\n","import { UnknownObject } from \"../types\";\nimport {\n  stringIsEmpty,\n  notEmptyStringOr,\n  decodeBase64,\n  parseIntOr\n} from \"../lib\";\nimport Item, { ItemType, ItemProps, itemBasePropsDecoder } from \"../Item\";\n\nexport type ServiceProps = {\n  type: ItemType.SERVICE;\n  serviceId: number;\n  imageSrc: string | null;\n  statusImageSrc: string | null;\n  encodedTitle: string | null;\n} & ItemProps;\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the service props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function servicePropsDecoder(data: UnknownObject): ServiceProps | never {\n  if (data.imageSrc !== null) {\n    if (\n      typeof data.statusImageSrc !== \"string\" ||\n      data.imageSrc.statusImageSrc === 0\n    ) {\n      throw new TypeError(\"invalid status image src.\");\n    }\n  } else {\n    if (stringIsEmpty(data.encodedTitle)) {\n      throw new TypeError(\"missing encode tittle content.\");\n    }\n  }\n\n  if (parseIntOr(data.serviceId, null) === null) {\n    throw new TypeError(\"invalid service id.\");\n  }\n\n  return {\n    ...itemBasePropsDecoder(data), // Object spread. It will merge the properties of the two objects.\n    type: ItemType.SERVICE,\n    serviceId: data.serviceId,\n    imageSrc: notEmptyStringOr(data.imageSrc, null),\n    statusImageSrc: notEmptyStringOr(data.statusImageSrc, null),\n    encodedTitle: notEmptyStringOr(data.encodedTitle, null)\n  };\n}\n\nexport default class Service extends Item<ServiceProps> {\n  public createDomElement(): HTMLElement {\n    const element = document.createElement(\"div\");\n    element.className = \"service\";\n\n    if (this.props.statusImageSrc !== null) {\n      element.style.background = `url(${this.props.statusImageSrc}) no-repeat`;\n      element.style.backgroundSize = \"contain\";\n      element.style.backgroundPosition = \"center\";\n    } else if (this.props.encodedTitle !== null) {\n      element.innerHTML = decodeBase64(this.props.encodedTitle);\n    }\n\n    return element;\n  }\n}\n","import { UnknownObject, Size } from \"./types\";\nimport {\n  parseBoolean,\n  sizePropsDecoder,\n  parseIntOr,\n  notEmptyStringOr\n} from \"./lib\";\nimport Item, {\n  ItemType,\n  ItemProps,\n  ItemClickEvent,\n  ItemRemoveEvent\n} from \"./Item\";\nimport StaticGraph, { staticGraphPropsDecoder } from \"./items/StaticGraph\";\nimport Icon, { iconPropsDecoder } from \"./items/Icon\";\nimport ColorCloud, { colorCloudPropsDecoder } from \"./items/ColorCloud\";\nimport Group, { groupPropsDecoder } from \"./items/Group\";\nimport Clock, { clockPropsDecoder } from \"./items/Clock\";\nimport Box, { boxPropsDecoder } from \"./items/Box\";\nimport Line, { linePropsDecoder } from \"./items/Line\";\nimport Label, { labelPropsDecoder } from \"./items/Label\";\nimport SimpleValue, { simpleValuePropsDecoder } from \"./items/SimpleValue\";\nimport EventsHistory, {\n  eventsHistoryPropsDecoder\n} from \"./items/EventsHistory\";\nimport Percentile, { percentilePropsDecoder } from \"./items/Percentile\";\nimport TypedEvent, { Disposable, Listener } from \"./TypedEvent\";\nimport DonutGraph, { donutGraphPropsDecoder } from \"./items/DonutGraph\";\nimport BarsGraph, { barsGraphPropsDecoder } from \"./items/BarsGraph\";\nimport ModuleGraph, { moduleGraphPropsDecoder } from \"./items/ModuleGraph\";\nimport Service, { servicePropsDecoder } from \"./items/Service\";\n\n// TODO: Document.\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nfunction itemInstanceFrom(data: UnknownObject) {\n  const type = parseIntOr(data.type, null);\n  if (type == null) throw new TypeError(\"missing item type.\");\n\n  switch (type as ItemType) {\n    case ItemType.STATIC_GRAPH:\n      return new StaticGraph(staticGraphPropsDecoder(data));\n    case ItemType.MODULE_GRAPH:\n      return new ModuleGraph(moduleGraphPropsDecoder(data));\n    case ItemType.SIMPLE_VALUE:\n    case ItemType.SIMPLE_VALUE_MAX:\n    case ItemType.SIMPLE_VALUE_MIN:\n    case ItemType.SIMPLE_VALUE_AVG:\n      return new SimpleValue(simpleValuePropsDecoder(data));\n    case ItemType.PERCENTILE_BAR:\n    case ItemType.PERCENTILE_BUBBLE:\n    case ItemType.CIRCULAR_PROGRESS_BAR:\n    case ItemType.CIRCULAR_INTERIOR_PROGRESS_BAR:\n      return new Percentile(percentilePropsDecoder(data));\n    case ItemType.LABEL:\n      return new Label(labelPropsDecoder(data));\n    case ItemType.ICON:\n      return new Icon(iconPropsDecoder(data));\n    case ItemType.SERVICE:\n      return new Service(servicePropsDecoder(data));\n    case ItemType.GROUP_ITEM:\n      return new Group(groupPropsDecoder(data));\n    case ItemType.BOX_ITEM:\n      return new Box(boxPropsDecoder(data));\n    case ItemType.LINE_ITEM:\n      return new Line(linePropsDecoder(data));\n    case ItemType.AUTO_SLA_GRAPH:\n      return new EventsHistory(eventsHistoryPropsDecoder(data));\n    case ItemType.DONUT_GRAPH:\n      return new DonutGraph(donutGraphPropsDecoder(data));\n    case ItemType.BARS_GRAPH:\n      return new BarsGraph(barsGraphPropsDecoder(data));\n    case ItemType.CLOCK:\n      return new Clock(clockPropsDecoder(data));\n    case ItemType.COLOR_CLOUD:\n      return new ColorCloud(colorCloudPropsDecoder(data));\n    default:\n      throw new TypeError(\"item not found\");\n  }\n}\n\n// TODO: Document.\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nfunction decodeProps(data: UnknownObject) {\n  const type = parseIntOr(data.type, null);\n  if (type == null) throw new TypeError(\"missing item type.\");\n\n  switch (type as ItemType) {\n    case ItemType.STATIC_GRAPH:\n      return staticGraphPropsDecoder(data);\n    case ItemType.MODULE_GRAPH:\n      return moduleGraphPropsDecoder(data);\n    case ItemType.SIMPLE_VALUE:\n    case ItemType.SIMPLE_VALUE_MAX:\n    case ItemType.SIMPLE_VALUE_MIN:\n    case ItemType.SIMPLE_VALUE_AVG:\n      return simpleValuePropsDecoder(data);\n    case ItemType.PERCENTILE_BAR:\n    case ItemType.PERCENTILE_BUBBLE:\n    case ItemType.CIRCULAR_PROGRESS_BAR:\n    case ItemType.CIRCULAR_INTERIOR_PROGRESS_BAR:\n      return percentilePropsDecoder(data);\n    case ItemType.LABEL:\n      return labelPropsDecoder(data);\n    case ItemType.ICON:\n      return iconPropsDecoder(data);\n    case ItemType.SERVICE:\n      return servicePropsDecoder(data);\n    case ItemType.GROUP_ITEM:\n      return groupPropsDecoder(data);\n    case ItemType.BOX_ITEM:\n      return boxPropsDecoder(data);\n    case ItemType.LINE_ITEM:\n      return linePropsDecoder(data);\n    case ItemType.AUTO_SLA_GRAPH:\n      return eventsHistoryPropsDecoder(data);\n    case ItemType.DONUT_GRAPH:\n      return donutGraphPropsDecoder(data);\n    case ItemType.BARS_GRAPH:\n      return barsGraphPropsDecoder(data);\n    case ItemType.CLOCK:\n      return clockPropsDecoder(data);\n    case ItemType.COLOR_CLOUD:\n      return colorCloudPropsDecoder(data);\n    default:\n      throw new TypeError(\"decoder not found\");\n  }\n}\n\n// Base properties.\nexport interface VisualConsoleProps extends Size {\n  readonly id: number;\n  name: string;\n  groupId: number;\n  backgroundURL: string | null; // URL?\n  backgroundColor: string | null;\n  isFavorite: boolean;\n  relationLineWidth: number;\n}\n\n/**\n * Build a valid typed object from a raw object.\n * This will allow us to ensure the type safety.\n *\n * @param data Raw object.\n * @return An object representing the Visual Console props.\n * @throws Will throw a TypeError if some property\n * is missing from the raw object or have an invalid type.\n */\nexport function visualConsolePropsDecoder(\n  data: UnknownObject\n): VisualConsoleProps | never {\n  // Object destructuring: http://es6-features.org/#ObjectMatchingShorthandNotation\n  const {\n    id,\n    name,\n    groupId,\n    backgroundURL,\n    backgroundColor,\n    isFavorite,\n    relationLineWidth\n  } = data;\n\n  if (id == null || isNaN(parseInt(id))) {\n    throw new TypeError(\"invalid Id.\");\n  }\n  if (typeof name !== \"string\" || name.length === 0) {\n    throw new TypeError(\"invalid name.\");\n  }\n  if (groupId == null || isNaN(parseInt(groupId))) {\n    throw new TypeError(\"invalid group Id.\");\n  }\n\n  return {\n    id: parseInt(id),\n    name,\n    groupId: parseInt(groupId),\n    backgroundURL: notEmptyStringOr(backgroundURL, null),\n    backgroundColor: notEmptyStringOr(backgroundColor, null),\n    isFavorite: parseBoolean(isFavorite),\n    relationLineWidth: parseIntOr(relationLineWidth, 0),\n    ...sizePropsDecoder(data)\n  };\n}\n\nexport default class VisualConsole {\n  // Reference to the DOM element which will contain the items.\n  private readonly containerRef: HTMLElement;\n  // Properties.\n  private _props: VisualConsoleProps;\n  // Visual Console Item instances by their Id.\n  private elementsById: {\n    [key: number]: Item<ItemProps>;\n  } = {};\n  // Visual Console Item Ids.\n  private elementIds: ItemProps[\"id\"][] = [];\n  // Dictionary which store the created lines.\n  private relations: {\n    [key: string]: Line;\n  } = {};\n  // Event manager for click events.\n  private readonly clickEventManager = new TypedEvent<\n    ItemClickEvent<ItemProps>\n  >();\n  // List of references to clean the event listeners.\n  private readonly disposables: Disposable[] = [];\n\n  /**\n   * React to a click on an element.\n   * @param e Event object.\n   */\n  private handleElementClick: (e: ItemClickEvent<ItemProps>) => void = e => {\n    this.clickEventManager.emit(e);\n    // console.log(`Clicked element #${e.data.id}`, e);\n  };\n\n  /**\n   * Clear some element references.\n   * @param e Event object.\n   */\n  private handleElementRemove: (e: ItemRemoveEvent<ItemProps>) => void = e => {\n    // Remove the element from the list and its relations.\n    this.elementIds = this.elementIds.filter(id => id !== e.data.id);\n    delete this.elementsById[e.data.id];\n    this.clearRelations(e.data.id);\n  };\n\n  public constructor(\n    container: HTMLElement,\n    props: UnknownObject,\n    items: UnknownObject[]\n  ) {\n    this.containerRef = container;\n    this._props = visualConsolePropsDecoder(props);\n\n    // Force the first render.\n    this.render();\n\n    // Sort by isOnTop, id ASC\n    items = items.sort(function(a, b) {\n      if (\n        a.isOnTop == null ||\n        b.isOnTop == null ||\n        a.id == null ||\n        b.id == null\n      ) {\n        return 0;\n      }\n\n      if (a.isOnTop && !b.isOnTop) return 1;\n      else if (!a.isOnTop && b.isOnTop) return -1;\n      else if (a.id < b.id) return 1;\n      else return -1;\n    });\n\n    // Initialize the items.\n    items.forEach(item => {\n      try {\n        const itemInstance = itemInstanceFrom(item);\n        // Add the item to the list.\n        this.elementsById[itemInstance.props.id] = itemInstance;\n        this.elementIds.push(itemInstance.props.id);\n        // Item event handlers.\n        itemInstance.onClick(this.handleElementClick);\n        itemInstance.onRemove(this.handleElementRemove);\n        // Add the item to the DOM.\n        this.containerRef.append(itemInstance.elementRef);\n      } catch (error) {\n        console.log(\"Error creating a new element:\", error.message);\n      }\n    });\n\n    // Create lines.\n    this.buildRelations();\n  }\n\n  /**\n   * Public accessor of the `elements` property.\n   * @return Properties.\n   */\n  public get elements(): Item<ItemProps>[] {\n    // Ensure the type cause Typescript doesn't know the filter removes null items.\n    return this.elementIds\n      .map(id => this.elementsById[id])\n      .filter(_ => _ != null) as Item<ItemProps>[];\n  }\n\n  /**\n   * Public setter of the `elements` property.\n   * @param items.\n   */\n  public updateElements(items: UnknownObject[]): void {\n    const itemIds = items.map(item => item.id || null).filter(id => id != null);\n    itemIds as number[]; // Tell the type system to rely on us.\n    // Get the elements we should delete.\n    const deletedIds: number[] = this.elementIds.filter(\n      id => itemIds.indexOf(id) < 0\n    );\n    // Delete the elements.\n    deletedIds.forEach(id => {\n      if (this.elementsById[id] != null) {\n        this.elementsById[id].remove();\n        delete this.elementsById[id];\n      }\n    });\n    // Replace the element ids.\n    this.elementIds = itemIds;\n\n    // Initialize the items.\n    items.forEach(item => {\n      if (item.id) {\n        if (this.elementsById[item.id] == null) {\n          // New item.\n          try {\n            const itemInstance = itemInstanceFrom(item);\n            // Add the item to the list.\n            this.elementsById[itemInstance.props.id] = itemInstance;\n            // Item event handlers.\n            itemInstance.onClick(this.handleElementClick);\n            itemInstance.onRemove(this.handleElementRemove);\n            // Add the item to the DOM.\n            this.containerRef.append(itemInstance.elementRef);\n          } catch (error) {\n            console.log(\"Error creating a new element:\", error.message);\n          }\n        } else {\n          // Update item.\n          try {\n            this.elementsById[item.id].props = decodeProps(item);\n          } catch (error) {\n            console.log(\"Error updating an element:\", error.message);\n          }\n        }\n      }\n    });\n\n    // Re-build relations.\n    this.buildRelations();\n  }\n\n  /**\n   * Public accessor of the `props` property.\n   * @return Properties.\n   */\n  public get props(): VisualConsoleProps {\n    return { ...this._props }; // Return a copy.\n  }\n\n  /**\n   * Public setter of the `props` property.\n   * If the new props are different enough than the\n   * stored props, a render would be fired.\n   * @param newProps\n   */\n  public set props(newProps: VisualConsoleProps) {\n    const prevProps = this.props;\n    // Update the internal props.\n    this._props = newProps;\n\n    // From this point, things which rely on this.props can access to the changes.\n\n    // Re-render.\n    this.render(prevProps);\n  }\n\n  /**\n   * Recreate or update the HTMLElement which represents the Visual Console into the DOM.\n   * @param prevProps If exists it will be used to only DOM updates instead of a full replace.\n   */\n  public render(prevProps: VisualConsoleProps | null = null): void {\n    if (prevProps) {\n      if (prevProps.backgroundURL !== this.props.backgroundURL) {\n        this.containerRef.style.backgroundImage =\n          this.props.backgroundURL !== null\n            ? `url(${this.props.backgroundURL})`\n            : null;\n      }\n      if (prevProps.backgroundColor !== this.props.backgroundColor) {\n        this.containerRef.style.backgroundColor = this.props.backgroundColor;\n      }\n      if (this.sizeChanged(prevProps, this.props)) {\n        this.resizeElement(this.props.width, this.props.height);\n      }\n    } else {\n      this.containerRef.style.backgroundImage =\n        this.props.backgroundURL !== null\n          ? `url(${this.props.backgroundURL})`\n          : null;\n\n      this.containerRef.style.backgroundColor = this.props.backgroundColor;\n      this.resizeElement(this.props.width, this.props.height);\n    }\n  }\n\n  /**\n   * Compare the previous and the new size and return\n   * a boolean value in case the size changed.\n   * @param prevSize\n   * @param newSize\n   * @return Whether the size changed or not.\n   */\n  public sizeChanged(prevSize: Size, newSize: Size): boolean {\n    return (\n      prevSize.width !== newSize.width || prevSize.height !== newSize.height\n    );\n  }\n\n  /**\n   * Resize the DOM container.\n   * @param width\n   * @param height\n   */\n  public resizeElement(width: number, height: number): void {\n    this.containerRef.style.width = `${width}px`;\n    this.containerRef.style.height = `${height}px`;\n  }\n\n  /**\n   * Update the size into the properties and resize the DOM container.\n   * @param width\n   * @param height\n   */\n  public resize(width: number, height: number): void {\n    this.props = {\n      ...this.props, // Object spread: http://es6-features.org/#SpreadOperator\n      width,\n      height\n    };\n  }\n\n  /**\n   * To remove the event listeners and the elements from the DOM.\n   */\n  public remove(): void {\n    this.disposables.forEach(d => d.dispose()); // Arrow function.\n    this.elements.forEach(e => e.remove()); // Arrow function.\n    this.elementsById = {};\n    this.elementIds = [];\n    // Clear relations.\n    this.clearRelations();\n    // Clean container.\n    this.containerRef.innerHTML = \"\";\n  }\n\n  /**\n   * Create line elements which connect the elements with their parents.\n   */\n  private buildRelations(): void {\n    // Clear relations.\n    this.clearRelations();\n    // Add relations.\n    this.elements.forEach(item => {\n      if (item.props.parentId !== null) {\n        const parent = this.elementsById[item.props.parentId];\n        const child = this.elementsById[item.props.id];\n        if (parent && child) this.addRelationLine(parent, child);\n      }\n    });\n  }\n\n  /**\n   * @param itemId Optional identifier of a parent or child item.\n   * Remove the line elements which connect the elements with their parents.\n   */\n  private clearRelations(itemId?: number): void {\n    if (itemId != null) {\n      for (let key in this.relations) {\n        const ids = key.split(\"|\");\n        const parentId = Number.parseInt(ids[0]);\n        const childId = Number.parseInt(ids[1]);\n\n        if (itemId === parentId || itemId === childId) {\n          this.relations[key].remove();\n          delete this.relations[key];\n        }\n      }\n    } else {\n      for (let key in this.relations) {\n        this.relations[key].remove();\n        delete this.relations[key];\n      }\n    }\n  }\n\n  /**\n   * Retrieve the line element which represent the relation between items.\n   * @param parentId Identifier of the parent item.\n   * @param childId Itentifier of the child item.\n   * @return The line element or nothing.\n   */\n  private getRelationLine(parentId: number, childId: number): Line | null {\n    const identifier = `${parentId}|${childId}`;\n    return this.relations[identifier] || null;\n  }\n\n  /**\n   * Add a new line item to represent a relation between the items.\n   * @param parent Parent item.\n   * @param child Child item.\n   * @return Whether the line was added or not.\n   */\n  private addRelationLine(\n    parent: Item<ItemProps>,\n    child: Item<ItemProps>\n  ): Line {\n    const identifier = `${parent.props.id}|${child.props.id}`;\n    if (this.relations[identifier] != null) {\n      this.relations[identifier].remove();\n    }\n\n    // Get the items center.\n    const startX = parent.props.x + parent.elementRef.clientWidth / 2;\n    const startY =\n      parent.props.y +\n      (parent.elementRef.clientHeight - parent.labelElementRef.clientHeight) /\n        2;\n    const endX = child.props.x + child.elementRef.clientWidth / 2;\n    const endY =\n      child.props.y +\n      (child.elementRef.clientHeight - child.labelElementRef.clientHeight) / 2;\n\n    const line = new Line(\n      linePropsDecoder({\n        id: 0,\n        type: ItemType.LINE_ITEM,\n        startX,\n        startY,\n        endX,\n        endY,\n        width: 0,\n        height: 0,\n        lineWidth: this.props.relationLineWidth,\n        color: \"#CCCCCC\"\n      })\n    );\n    // Save a reference to the line item.\n    this.relations[identifier] = line;\n\n    // Add the line to the DOM.\n    line.elementRef.style.zIndex = \"0\";\n    this.containerRef.append(line.elementRef);\n\n    return line;\n  }\n\n  /**\n   * Add an event handler to the click of the linked visual console elements.\n   * @param listener Function which is going to be executed when a linked console is clicked.\n   */\n  public onClick(listener: Listener<ItemClickEvent<ItemProps>>): Disposable {\n    /*\n     * The '.on' function returns a function which will clean the event\n     * listener when executed. We store all the 'dispose' functions to\n     * call them when the item should be cleared.\n     */\n    const disposable = this.clickEventManager.on(listener);\n    this.disposables.push(disposable);\n\n    return disposable;\n  }\n}\n","/*\n * Useful resources.\n * http://es6-features.org/\n * http://exploringjs.com/es6\n * https://www.typescriptlang.org/\n */\n\nimport \"./main.css\"; // CSS import.\nimport VisualConsole from \"./VisualConsole\";\n\n// Export the VisualConsole class to the global object.\n\n// eslint-disable-next-line\n(window as any).VisualConsole = VisualConsole;\n"],"sourceRoot":""}